<!doctype html>
<html lang="zh-Hans" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-Certificate/RHCSA/RH124/index" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.2.1">
<title data-rh="true">RH124 | Randark_JMT - 陈橘墨</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="http://treasure-house.randark.site/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="http://treasure-house.randark.site/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="http://treasure-house.randark.site/docs/Certificate/RHCSA/RH124/"><meta data-rh="true" property="og:locale" content="zh_Hans"><meta data-rh="true" name="docusaurus_locale" content="zh-Hans"><meta data-rh="true" name="docsearch:language" content="zh-Hans"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="RH124 | Randark_JMT - 陈橘墨"><meta data-rh="true" name="description" content="环境初始化"><meta data-rh="true" property="og:description" content="环境初始化"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="http://treasure-house.randark.site/docs/Certificate/RHCSA/RH124/"><link data-rh="true" rel="alternate" href="http://treasure-house.randark.site/docs/Certificate/RHCSA/RH124/" hreflang="zh-Hans"><link data-rh="true" rel="alternate" href="http://treasure-house.randark.site/docs/Certificate/RHCSA/RH124/" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Randark_JMT - 陈橘墨 RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Randark_JMT - 陈橘墨 Atom Feed"><link rel="stylesheet" href="/assets/css/styles.4d3dafb9.css">
<script src="/assets/js/runtime~main.70ed57a7.js" defer="defer"></script>
<script src="/assets/js/main.968af79f.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="跳到主要内容"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">跳到主要内容</a></div><nav aria-label="主导航" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="切换导航栏" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.jpg" alt="Randark_JMT" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/logo.jpg" alt="Randark_JMT" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Treasure-House</b></a><a class="navbar__item navbar__link" href="/docs/DevSecOps/">DevSecOps</a><a class="navbar__item navbar__link" href="/docs/Penetration/">渗透测试</a><a class="navbar__item navbar__link" href="/docs/Attack-Defense/">红蓝攻防</a><a class="navbar__item navbar__link" href="/docs/Forensic/">电子取证</a><a class="navbar__item navbar__link" href="/docs/ICS/">工业控制</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/Certificate/">证书</a><a class="navbar__item navbar__link" href="/docs/CTF-Research/">CTF研究</a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/blog">Blog</a><a href="https://randark.site/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">主站<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://github.com/Randark-JMT" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="切换浅色/暗黑模式（当前为浅色模式）" aria-label="切换浅色/暗黑模式（当前为浅色模式）" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="回到顶部" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="文档侧边栏" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/Certificate/">证书</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" href="/docs/Certificate/RHCSA/">RHCSA</a><button aria-label="折叠侧边栏分类 &#x27;RHCSA&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/Certificate/RHCSA/RH124/">RH124</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Certificate/RHCSA/RH134/">RH134</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Certificate/RHCSA/EX200/">EX200</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/Certificate/RHCE/">RHCE</a><button aria-label="展开侧边栏分类 &#x27;RHCE&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="页面路径"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="主页面" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/Certificate/RHCSA/"><span itemprop="name">RHCSA</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">RH124</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">本页总览</button></div><div class="theme-doc-markdown markdown"><h1>RH124</h1>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="环境初始化">环境初始化<a href="#环境初始化" class="hash-link" aria-label="环境初始化的直接链接" title="环境初始化的直接链接">​</a></h2>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain"># 清除之前的课程缓存</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">[kiosk@foundation0 ~]$ rht-clearcourse all</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># 指定课程环境为 RH124</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">[kiosk@foundation0 ~]$ rht-setcourse rh124</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># 首先重新部署 classroom 虚拟机环境</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">[kiosk@foundation0 ~]$ rht-vmctl reset classroom</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># 重新部署所有虚拟机</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">[kiosk@foundation0 ~]$ rht-vmctl reset all</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="红帽企业-linux-入门">红帽企业 Linux 入门<a href="#红帽企业-linux-入门" class="hash-link" aria-label="红帽企业 Linux 入门的直接链接" title="红帽企业 Linux 入门的直接链接">​</a></h2>
<blockquote>
<p>介绍开源、Linux、Linux 发行版和红帽企业 Linux，并明确相关定义</p>
<p>目标：描述和定义开源、Linux、Linux 发行版和红帽企业 Linux</p>
<p>培训目标：</p>
<ul>
<li>定义和解释 Linux 用途、开源、Linux 发行版和红帽企业 Linux</li>
</ul>
<p>章节：</p>
<ul>
<li>什么是 Linux？（及测验）</li>
</ul>
</blockquote>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="什么是-linux">什么是 Linux？<a href="#什么是-linux" class="hash-link" aria-label="什么是 Linux？的直接链接" title="什么是 Linux？的直接链接">​</a></h3>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="总结">总结<a href="#总结" class="hash-link" aria-label="总结的直接链接" title="总结的直接链接">​</a></h3>
<ul>
<li>开源软件的源代码可由任何人免费使用、研究、修改和共享</li>
<li>Linux 发行版是一种可安装的操作系统，由 Linux 内核以及提供支持的用户程序和库构建而成</li>
<li>红帽为开源项目提供支持并贡献代码，赞助项目软件并将项目软件集成  到社区驱动的发行版中，同时经过调整和优化后产出稳定版软件，以作为受支持的企业就绪型产品提供给用户使用</li>
<li>红帽企业 Linux 是由红帽提供的、受商业支持的企业就绪型开源 Linux 发行版</li>
<li>免费的红帽开发人员订阅是一种非常实用的方式，可用来获取学习资源和信息，包括红帽企业 Linux 和其他红帽产品的开发人员订阅</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="访问命令行">访问命令行<a href="#访问命令行" class="hash-link" aria-label="访问命令行的直接链接" title="访问命令行的直接链接">​</a></h2>
<blockquote>
<p>登录 Linux 系统并使用 shell 运行简单的命令</p>
<p>目标：登陆 Linux 系统并从 shell 运行简单的命令</p>
<p>培训目标：</p>
<ul>
<li>登陆 Linux 系统并使用 shell 运行简单的命令</li>
<li>使用 GNOME 桌面环境登陆 Linux 系统，并在终端程序中从 shell 提示符运行命令</li>
<li>从 shell 提示符运行命令时，使用 Bash 快捷键来节省时间</li>
</ul>
<p>章节：</p>
<ul>
<li>访问命令行（及测验）</li>
<li>使用桌面访问命令行（及引导式练习）</li>
<li>使用 Bash Shell 执行命令（及测验）</li>
</ul>
<p>实验：访问命令行</p>
</blockquote>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="访问命令行-1">访问命令行<a href="#访问命令行-1" class="hash-link" aria-label="访问命令行的直接链接" title="访问命令行的直接链接">​</a></h3>
<p>在命令行中，不同的 shell 提示符代表着不同的用户状态</p>
<ul>
<li><code>$</code> 代表普通用户的状态</li>
<li><code>#</code> 代表超级用户的状态</li>
</ul>
<p>使用 <code>Ctrl</code>+<code>Alt</code>+<code>F1 - F6</code> 功能键组合，可以切换各个虚拟控制台（tty）</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="使用桌面访问命令行">使用桌面访问命令行<a href="#使用桌面访问命令行" class="hash-link" aria-label="使用桌面访问命令行的直接链接" title="使用桌面访问命令行的直接链接">​</a></h3>
<p>红帽企业 Linux 9 中，默认使用 <code>GNOME 40</code> 作为默认桌面环境</p>
<p>可以使用 <code>Alt + F2</code> 快捷键，然后输入 <code>gnome-terminal</code> 来启动桌面环境下的终端</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="使用-bash-shell-执行命令">使用 Bash Shell 执行命令<a href="#使用-bash-shell-执行命令" class="hash-link" aria-label="使用 Bash Shell 执行命令的直接链接" title="使用 Bash Shell 执行命令的直接链接">​</a></h3>
<ul>
<li><code>Ctrl + A</code>：跳到命令行的开头</li>
<li><code>Ctrl + E</code>：跳到命令行的末尾</li>
<li><code>Ctrl + U</code> 将光标处到命令行开头的内容清除</li>
<li><code>Ctrl + K</code>：将光标处到命令行末尾的内容清除</li>
<li><code>Ctrl + LeftArrow</code>：跳到命令行中前一字的末尾</li>
<li><code>Ctrl + RightArrow</code>：跳到命令行中下一字的末尾</li>
<li><code>Ctrl + R</code>：在历史记录列表中搜索某一模式的命令</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="总结-1">总结<a href="#总结-1" class="hash-link" aria-label="总结的直接链接" title="总结的直接链接">​</a></h3>
<ul>
<li>Bash shell 是一个命令解释器，它提示交互用户指定 Linux 命令</li>
<li>很多命令都有一个 <code>--help</code> 选项，可显示用法信息或屏幕</li>
<li>您可以使用工作区来整理多个应用窗口</li>
<li>顶栏左上角的 Activities 按钮可以提供一个概览模式，帮助用户整理窗口并启动应用。</li>
<li><code>file</code> 命令可以扫描文件内容的开头，显示该文件的类型</li>
<li><code>head</code> 和 <code>tail</code> 命令分别显示文件的开头和结尾部分</li>
<li>您可以使用 Tab 补全在键入文件名作为命令的参数时将它们补全</li>
<li>您可以将图形界面用于许多管理任务。您可以禁用该界面，以保留用于运行应用的资源。</li>
<li>您可以使用分号 <code>;</code> 字符在同一行中编写多个命令，并使用反斜杠 <code>\</code> 字符在多行中运行单个命令</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="使用命令行管理文件">使用命令行管理文件<a href="#使用命令行管理文件" class="hash-link" aria-label="使用命令行管理文件的直接链接" title="使用命令行管理文件的直接链接">​</a></h2>
<blockquote>
<p>通过 bash shell 复制、移动、创建、删除和整理文件</p>
<p>目标：从 Bash shell 中，复制、移动、创建、删除和组织文件</p>
<p>培训目标：</p>
<ul>
<li>描述 Linux 如何组织文件，以及文件系统层次结构中各种目录的用途</li>
<li>指定文件的绝对位置和相对于当前工作目录的位置，确定并更改工作目录，以及列出目录的内容</li>
<li>创建、复制、移动和删除文件及目录</li>
<li>使用硬链接和符号（或 “软”）链接，使多个文件名引用同一文件</li>
<li>通过使用 Bash shell 的模式匹配功能，高效地运行影响很多文件的命令</li>
</ul>
<p>章节：</p>
<ul>
<li>描述 Linux 文件系统层次结构概念（及测验）</li>
<li>通过名称指定文件（及测验）</li>
<li>使用命令行工具管理文件（及引导式练习）</li>
<li>制作文件间的链接（及引导式练习）</li>
<li>使用 Shell 扩展匹配文件名（及测验）</li>
</ul>
<p>实验：从命令行管理文件</p>
</blockquote>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="描述-linux-文件系统层次结构概念">描述 Linux 文件系统层次结构概念<a href="#描述-linux-文件系统层次结构概念" class="hash-link" aria-label="描述 Linux 文件系统层次结构概念的直接链接" title="描述 Linux 文件系统层次结构概念的直接链接">​</a></h3>
<p>TODO 在这里补上后续的内容</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="通过名称指定文件">通过名称指定文件<a href="#通过名称指定文件" class="hash-link" aria-label="通过名称指定文件的直接链接" title="通过名称指定文件的直接链接">​</a></h3>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="使用命令行工具管理文件">使用命令行工具管理文件<a href="#使用命令行工具管理文件" class="hash-link" aria-label="使用命令行工具管理文件的直接链接" title="使用命令行工具管理文件的直接链接">​</a></h3>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="制作文件间的链接">制作文件间的链接<a href="#制作文件间的链接" class="hash-link" aria-label="制作文件间的链接的直接链接" title="制作文件间的链接的直接链接">​</a></h3>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="使用-shell-扩展匹配文件名">使用 Shell 扩展匹配文件名<a href="#使用-shell-扩展匹配文件名" class="hash-link" aria-label="使用 Shell 扩展匹配文件名的直接链接" title="使用 Shell 扩展匹配文件名的直接链接">​</a></h3>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="总结-2">总结<a href="#总结-2" class="hash-link" aria-label="总结的直接链接" title="总结的直接链接">​</a></h3>
<ul>
<li>Linux 系统中的文件都被组织到一个颠倒的目录树中，称为文件系统层次结构</li>
<li>绝对路径以正斜杠（<code>/</code>）开头，指定文件在文件系统层次结构中的位置</li>
<li>相对路径不以正斜杠（<code>/</code>）开头，指定文件相对于当前工作目录的位置</li>
<li>您可以将命令与句点（<code>.</code>）、双句点（<code>..</code>）和波形符（<code>~</code>）特殊字符结合使用，以引用文件系统中的文件位置</li>
<li><code>mkdir</code>、<code>rmdir</code>、<code>cp</code>、<code>mv</code> 和 <code>rm</code> 命令是 Linux 中用于管理文件的关键命令</li>
<li>硬链接和  软链接是让多个文件名指向同一数据的不同方式</li>
<li>Bash shell 提供了模式匹配、扩展和替换功能，可帮助您高效地运行命令</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="获取有关红帽企业-linux-的帮助">获取有关红帽企业 Linux 的帮助<a href="#获取有关红帽企业-linux-的帮助" class="hash-link" aria-label="获取有关红帽企业 Linux 的帮助的直接链接" title="获取有关红帽企业 Linux 的帮助的直接链接">​</a></h2>
<blockquote>
<p>aka：在红帽 Linux 中获取帮助</p>
<p>使用本地帮助系统解决相关问题</p>
<p>目标：通过利用本地帮助系统来解决问题</p>
<p>培训目标：</p>
<ul>
<li>在本地 Linux 系统手册页中查找信息</li>
</ul>
<p>章节：</p>
<ul>
<li>阅读手册页（及引导式练习）</li>
</ul>
<p>实验：在红帽企业 Linux 中获取帮助</p>
</blockquote>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="阅读手册页">阅读手册页<a href="#阅读手册页" class="hash-link" aria-label="阅读手册页的直接链接" title="阅读手册页的直接链接">​</a></h3>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="总结-3">总结<a href="#总结-3" class="hash-link" aria-label="总结的直接链接" title="总结的直接链接">​</a></h3>
<ul>
<li>使用 <code>man</code> 命令可以查看 man page 并显示有关 Linux 系统组件（如文件、命令和功能）的信息</li>
<li>按照惯例，在引用 man page 时，页面名称的后面跟着放在括号内的章节号</li>
<li>您可以使用正则表达式在 man page 中搜索内容</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="创建查看和编辑文本文件">创建、查看和编辑文本文件<a href="#创建查看和编辑文本文件" class="hash-link" aria-label="创建、查看和编辑文本文件的直接链接" title="创建、查看和编辑文本文件的直接链接">​</a></h2>
<blockquote>
<p>通过命令输出或在文本编辑器中管理  文本文件</p>
<p>目标：通过命令行输出或在编辑器中创建、查看和编辑文本文件</p>
<p>培训目标：</p>
<ul>
<li>通过 shell 重定向将标准输出或标准错误保存到文件中，并利用管道处理多个命令行程序的输出</li>
<li>使用 <code>vim</code> 编辑器从命令行创建和编辑文本文件
设置 shell 变量以运行命令，并编辑 Bash 启动脚本以设置 shell 和环境变量，从而修改 shell 以及从 shell 运行的程序的行为</li>
</ul>
<p>章节：</p>
<ul>
<li>将输出重定向到文本或程序（及测验）</li>
<li>从 shell 提示符编辑文本文件（及引导式练习）</li>
<li>更改 shell 环境（及引导式练习）</li>
</ul>
<p>实验：创建、查看和编辑文本文件</p>
</blockquote>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="将输出重定向到文本或程序">将输出重定向到文本或程序<a href="#将输出重定向到文本或程序" class="hash-link" aria-label="将输出重定向到文本或程序的直接链接" title="将输出重定向到文本或程序的直接链接">​</a></h3>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="从-shell-提示符编辑文本文件">从 shell 提示符编辑文本文件<a href="#从-shell-提示符编辑文本文件" class="hash-link" aria-label="从 shell 提示符编辑文本文件的直接链接" title="从 shell 提示符编辑文本文件的直接链接">​</a></h3>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="更改-shell-环境">更改 shell 环境<a href="#更改-shell-环境" class="hash-link" aria-label="更改 shell 环境的直接链接" title="更改 shell 环境的直接链接">​</a></h3>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="总结-4">总结<a href="#总结-4" class="hash-link" aria-label="总结的直接链接" title="总结的直接链接">​</a></h3>
<ul>
<li>运行程序或进程涉及三个标准通信通道：标准输入、标准输出和标准错误</li>
<li>您可以使用 I/O 重定向从文件中读  取标准输入，或者将输出或错误从进程写入文件</li>
<li>管道可以将标准输出从一个进程连接到另一个进程的标准输入，并可格式化输出或构建复杂命令</li>
<li>您应该学会如何使用至少一个命令行文本编辑器，建议您使用 Vim，因为 Linux 发行版中通常会默认安装它</li>
<li>shell 变量可以帮助您运行命令，它们对于 shell 会话而言是唯一的</li>
<li>您可以利用环境变量来修改 shell 或进程的行为</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="管理本地用户和群组">管理本地用户和群组<a href="#管理本地用户和群组" class="hash-link" aria-label="管理本地用户和群组的直接链接" title="管理本地用户和群组的直接链接">​</a></h2>
<blockquote>
<p>aka：管理本地用户和组</p>
<p>创建、管理和删除本地用户和群组，并管理本地密码策略。</p>
<p>目标：创建、管理和删除本地用户和组，以及管理本地密码策略</p>
<p>培训目标：</p>
<ul>
<li>描述 Linux 系统上用户和组的用途</li>
<li>切换到超级用户账户来管理 Linux 系统，并使用 <code>sudo</code> 命令授予其他用户超级用户访问权限</li>
<li>创建、修改和删除本地用户账户</li>
<li>创建、修改和删除本地组账户</li>
<li>为用户设置密码管理策略，并且手动锁定和解锁用户账户</li>
</ul>
<p>章节：</p>
<ul>
<li>描述用户和组概念（及测验）</li>
<li>获取超级用户访问权限（及引导式练习）</li>
<li>管理本地用户账户（及引导式练习）</li>
<li>管理本地组账户（及引导式练习）</li>
<li>管理用户密码（及引导式练习）</li>
</ul>
<p>实验：管理本地用户和组</p>
</blockquote>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="描述用户和组概念">描述用户和组概念<a href="#描述用户和组概念" class="hash-link" aria-label="描述用户和组概念的直接链接" title="描述用户和组概念的直接链接">​</a></h3>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="获取超级用户访问权限">获取超级用户访问权限<a href="#获取超级用户访问权限" class="hash-link" aria-label="获取超级用户访问权限的直接链接" title="获取超级用户访问权限的直接链接">​</a></h3>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="管理本地用户账户">管理本地用户账户<a href="#管理本地用户账户" class="hash-link" aria-label="管理本地用户账户的直接链接" title="管理本地用户账户的直接链接">​</a></h3>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="管理本地组账户">管理本地组账户<a href="#管理本地组账户" class="hash-link" aria-label="管理本地组账户的直接链接" title="管理本地组账户的直接链接">​</a></h3>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="管理用户密码">管理用户密码<a href="#管理用户密码" class="hash-link" aria-label="管理用户密码的直接链接" title="管理用户密码的直接链接">​</a></h3>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="总结-5">总结<a href="#总结-5" class="hash-link" aria-label="总结的直接链接" title="总结的直接链接">​</a></h3>
<ul>
<li>Linux 中的用户账户类型有：超级用户、系统用户和普通用户</li>
<li>一个用户具有一个主要组，并且可能是多个补充组的成员</li>
<li><code>/etc/passwd</code>、<code>/etc/group</code> 和 <code>/etc/shadow</code> 这三个重要文件中包含用户和组的信息</li>
<li>您可以通过 <code>su</code> 和 <code>sudo</code> 命令，以超级用户身份运行命令</li>
<li><code>useradd</code>、<code>usermod</code> 和 <code>userdel</code> 命令可以管理用户</li>
<li><code>groupadd</code>、<code>groupmod</code> 和 <code>groupdel</code> 命令可以管理组</li>
<li><code>passwd</code> 命令可以管理用户的密码</li>
<li><code>chage</code> 命令可显示和配置用户的密码到期设置</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="控制文件访问权限">控制文件访问权限<a href="#控制文件访问权限" class="hash-link" aria-label="控制文件访问权限的直接链接" title="控制文件访问权限的直接链接">​</a></h2>
<blockquote>
<p>aka：控制对文件的访问</p>
<p>设置文件的 Linux 文件系统权限，并解释不同权限设置的安全效果。</p>
<p>目标：设置文件的 Linux 文件系统权限，并解释不通权限设置的安全效果</p>
<p>培训目标：</p>
<ul>
<li>列出文件和目录的文件系统权限，并解释这些权限对用户的组访问权限的影响</li>
<li>利用命令行工具更改文件的权限和所有权</li>
<li>控制用户创建的文件的默认权限，解释特殊权限的影响，并使用特殊权限和默认权限来设置在特定目录中创建的文件的组的所有者</li>
</ul>
<p>章节：</p>
<ul>
<li>解释 Linux 文件系统权限（及测验）</li>
<li>从命令行管理文件系统权限（及引导式练习）</li>
<li>管理默认权限和文件访问（及引导式练习）</li>
</ul>
<p>实验：控制对文件的访问</p>
</blockquote>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="解释-linux-文件系统权限">解释 Linux 文件系统权限<a href="#解释-linux-文件系统权限" class="hash-link" aria-label="解释 Linux 文件系统权限的直接链接" title="解释 Linux 文件系统权限的直接链接">​</a></h3>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="从命令行管理文件系统权限">从命令行管理文件系统权限<a href="#从命令行管理文件系统权限" class="hash-link" aria-label="从命令行管理文件系统权限的直接链接" title="从命令行管理文件系统权限的直接链接">​</a></h3>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="管理默认权限和文件访问">管理默认权限和文件访问<a href="#管理默认权限和文件访问" class="hash-link" aria-label="管理默认权限和文件访问的直接链接" title="管理默认权限和文件访问的直接链接">​</a></h3>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="总结-6">总结<a href="#总结-6" class="hash-link" aria-label="总结的直接链接" title="总结的直接链接">​</a></h3>
<ul>
<li>文件所有权权限具有三个类别。文件由用户、单个组和其他用户拥有。应用最具体的权限。用户权限覆盖组权限，组权限又覆盖其他权限</li>
<li><code>ls</code> 命令 <code>-l</code> 选项可展开文件列表，以包括文件权限和所有权</li>
<li><code>chmod</code> 命令可从命令行更改文件权限</li>
<li><code>chmod</code> 命令可使用以下两种方法之一来表示权限：符号或八进制</li>
<li><code>chown</code> 命令可更改文件所有权。<code>chown</code> 命令 <code>-R</code> 选项可以递归更改目录树的所有权</li>
<li>不带参数运行 <code>umask</code> 命令将显示 shell 的当前 umask 值。系统上的每个进程都有一个 umask</li>
<li>Bash 的默认 umask 值在 <code>/etc/login.defs</code> 文件中定义，可能会受到 <code>/etc/profile</code> 和 <code>/etc/bashrc</code> 文件、<code>/etc/profile.d</code> 中的文件或您的账户的 shell 初始化文件中的设置影响</li>
<li><code>suid</code>、<code>sgid</code> 和 <code>sticky</code> 特殊权限提供与文件访问权限相关的其他功能</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="监控和管理-linux-进程">监控和管理 Linux 进程<a href="#监控和管理-linux-进程" class="hash-link" aria-label="监控和管理 Linux 进程的直接链接" title="监控和管理 Linux 进程的直接链接">​</a></h2>
<blockquote>
<p>目标：评估和控制红帽企业 Linux 系统上正在运行的进程。</p>
<p>培训目标：</p>
<ul>
<li>确定系统上运行的程序的状态、资源使用情况和所有权，以进行控制</li>
<li>使用 Bash 作业控制来管理从同一终端会话启动的多个进程</li>
<li>使用命令来中止进程与进程通信，定义守护进程的特征，以及停止用户会话和进程</li>
<li>定义负载平均值并确定资源密集型服务器进程</li>
</ul>
<p>章节：</p>
<ul>
<li>进程状态和生命周期（及测验）</li>
<li>控制作业（及引导式练习）</li>
<li>中止进程（及引导式练习）</li>
<li>监控进程活动（及引导式练习）</li>
</ul>
<p>实验：监控和管理 Linux 进程</p>
</blockquote>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="进程状态和生命周期">进程状态和生命周期<a href="#进程状态和生命周期" class="hash-link" aria-label="进程状态和生命周期的直接链接" title="进程状态和生命周期的直接链接">​</a></h3>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="控制作业">控制作业<a href="#控制作业" class="hash-link" aria-label="控制作业的直接链接" title="控制作业的直接链接">​</a></h3>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="中止进程">中止进程<a href="#中止进程" class="hash-link" aria-label="中止进程的直接链接" title="中止进程的直接链接">​</a></h3>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="监控进程活动">监控进程活动<a href="#监控进程活动" class="hash-link" aria-label="监控进程活动的直接链接" title="监控进程活动的直接链接">​</a></h3>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="总结-7">总结<a href="#总结-7" class="hash-link" aria-label="总结的直接链接" title="总结的直接链接">​</a></h3>
<ul>
<li>进程是可执行程序的运行中实例。进程被分配又有一个状态，可以是运行、睡眠、停止或僵停。<code>ps</code> 命令可以列出进程</li>
<li>每个终端都有自己的会话，并且可以具有一个前台进程和多个独立的后台进程。<code>jobs</code> 命令显示终端会话中的进程</li>
<li>信号是向执行中的程序报告事件的软件中断。<code>kill</code>、<code>pkill</code> 和 <code>killall</code> 命令使用信号来控制进程</li>
<li>负载平均值是一种对系统繁忙程度的估算。要显示负载平均值，可使用 <code>top</code>、<code>uptime</code> 或 <code>w</code> 命令</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="控制服务和守护进程">控制服务和守护进程<a href="#控制服务和守护进程" class="hash-link" aria-label="控制服务和守护进程的直接链接" title="控制服务和守护进程的直接链接">​</a></h2>
<blockquote>
<p>目标：使用 systemd 服务控制和监视网络服务与系统守护进程。</p>
<p>培训目标：</p>
<ul>
<li>列出由 <code>systemd</code> 服务和套接字单元启动的系统守护进程和网络服务</li>
<li>使用 <code>systemctl</code> 控制系统守护进程和网络服务</li>
</ul>
<p>章节：</p>
<ul>
<li>识别自动启动的系统进程（及引导式练习）</li>
<li>控制系统服务（及引导式练习）</li>
</ul>
<p>实验：控制服务和守护进程</p>
</blockquote>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="识别自动启动的系统进程">识别自动启动的系统进程<a href="#识别自动启动的系统进程" class="hash-link" aria-label="识别自动启动的系统进程的直接链接" title="识别自动启动的系统进程的直接链接">​</a></h3>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain"># 列出并分页显示所有当前加载（active）的服务单元</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ systemctl list-units --type=service</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># 列出所有的服务单元</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ systemctl list-units --type=service --all</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># 列出所有的套接字单元</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ systemctl list-units --type=socket --all</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># 列出所有已安装的单元文件的状态</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ systemctl list-unit-files --type=service</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># 查看服务单元的状态（如 sshd 服务）</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ systemctl status sshd.service</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># 验证服务是否处于活动状态（正在运行）（如 sshd 服务）</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ systemctl is-active sshd.service</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># 验证服务单元是否已启用为在系统引导期间自动启动（如 sshd 服务）</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ systemctl is-enabled sshd.service</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># 验证单元是否在启动过程中失败（如 sshd 服务）</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ systemctl is-failed sshd.service</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="控制系统服务">控制系统服务<a href="#控制系统服务" class="hash-link" aria-label="控制系统服务的直接链接" title="控制系统服务的直接链接">​</a></h3>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain"># 重新启动服务（如 sshd 服务）</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ systemctl restart sshd.service</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># 重新加载服务（如 sshd 服务）</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ systemctl reload sshd.service</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># 重载或重新启动服务（适用于未知是否支持重载的服务）（如 sshd 服务）</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ systemctl reload-or-restart sshd.service</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># 列出启动服务单元所需的依赖项的层次结构映射（如 sshd 服务）</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ systemctl list-dependencies sshd.service</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># 列出依赖本服务单元作为依赖项的单元的层次结构映射（如 sshd 服务）</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ systemctl list-dependencies --reverse sshd.service</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># 屏蔽服务（避免意外启动与其他服务冲突的服务）（如 sendmail 服务）</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ systemctl mask sendmail.service</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># 取消屏蔽服务（如 sendmail 服务）</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ systemctl unmask sendmail</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># 使服务在系统引导时自动启动（如 sshd 服务）</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ systemctl enable sshd.service</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># 启动服务，并使服务在系统引导时自动启动（如 sshd 服务）</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ systemctl enable --now sshd.service</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># 服务在系统引导时不会自动启动（如 sshd 服务）</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ systemctl disable sshd.service</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># 停止服务，并使服务在系统引导时不会自动启动（如 sshd 服务）</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ systemctl disable --now sshd.service</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># 验证服务当前是启用状态还是禁用状态（如 sshd 服务）</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ systemctl is-enabled sshd.service</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="总结-8">总结<a href="#总结-8" class="hash-link" aria-label="总结的直接链接" title="总结的直接链接">​</a></h3>
<ul>
<li><code>systemd</code> 实用程序提供了一种方式，可在系统引导时以及运行中的系统上激活系统资源、服务器守护进程和其他进程</li>
<li>使用 <code>systemctl</code> 实用程序可以启动、停止、重新加载、启用和禁用服务</li>
<li>使用 <code>systemd</code> 实用程序可以管理服务单元、套接字单元和路径单元</li>
<li>使用 <code>systemctl status</code> 命令可以确定 <code>systemd</code> 启动的系统守护进程和网络服务的状态</li>
<li><code>systemctl list-dependencies</code> 命令可以列出特定服务单元依赖的所有服务单元</li>
<li><code>systemd</code> 实用程序可屏蔽服务单元，使其即便是为了满足依赖关系的需要也不会运行</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="配置-ssh-并确保其安全性">配置 SSH 并确保其安全性<a href="#配置-ssh-并确保其安全性" class="hash-link" aria-label="配置 SSH 并确保其安全性的直接链接" title="配置 SSH 并确保其安全性的直接链接">​</a></h2>
<blockquote>
<p>aka：配置和保护 SSH</p>
<p>使用 OpenSSH 在远程系统上配置安全的命令行服务。</p>
<p>目标：使用 OpenSSH 配置远程系统上的安全命令行服务</p>
<p>培训目标：</p>
<ul>
<li>使用 <code>ssh</code> 命令登录远程系统并运行命令</li>
<li>配置用户账户以使用基于密钥的身份验证，从而无需密码就能安全地登录远程系统
禁止直接以 <code>root</code> 身份登录，并为 OpenSSH 服务禁用基于密码的身份验证</li>
</ul>
<p>章节：</p>
<ul>
<li>使用 SSH 访问远程命令行（及引导式练习）</li>
<li>配置基于 SSH 密钥的身份验证（及引导式练习）</li>
<li>自定义 OpenSSH 服务配置（及引导式练习）</li>
</ul>
<p>实验：配置和保护 SSH</p>
</blockquote>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="使用-ssh-访问远程命令行">使用 SSH 访问远程命令行<a href="#使用-ssh-访问远程命令行" class="hash-link" aria-label="使用 SSH 访问远程命令行的直接链接" title="使用 SSH 访问远程命令行的直接链接">​</a></h3>
<p>SSH 连接远程主机时，会在本地的公钥储存中进行检索和核对，本地公钥储存的位置可为</p>
<ul>
<li><code>/etc/ssh/ssh_known_hosts</code></li>
<li><code>~/.ssh/known_hosts</code></li>
</ul>
<p>可以配置 <code>/etc/ssh/ssh_config</code> 文件中配置主机密钥检查的参数，通过启用严格的主机密钥检查，可以做到当远程主机的主机密钥与本地的公钥储存不一致时，中断 SSH 连接</p>
<div class="language-plaintext codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockTitle_Ktv7">/etc/ssh/ssh_config</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-plaintext codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">StrictHostKeyChecking   yes</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>计算设备的 SSH 主机密钥（以 workstation 环境举例）</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ ssh-keygen -lf /etc/ssh/ssh_host_ecdsa_key.pub</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">256 SHA256:ZAM2zE6BVXU8RRfUB+kLSDNy/BLPfwZuPn6hQlNkqLI root@workstation.lab.example.com (ECDSA)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="配置基于-ssh-密钥的身份验证">配置基于 SSH 密钥的身份验证<a href="#配置基于-ssh-密钥的身份验证" class="hash-link" aria-label="配置基于 SSH 密钥的身份验证的直接链接" title="配置基于 SSH 密钥的身份验证的直接链接">​</a></h3>
<p>使用 <code>ssh-keygen</code> 命令，可以在本地创建一个密钥对，并将私钥和公钥分别保存在 <code>~/.ssh/id_rsa</code> 和 <code>~/.ssh/id_rsa.pub</code> 文件中。在 <code>ssh-keygen</code> 程序运行过程中，可以指定私钥密码，以提高安全性</p>
<p>可以通过 <code>ssh-keygen -f &lt;filename&gt;</code> 来指定密钥文件的保存位置</p>
<p>在本地生成一个密钥对之后，可以使用 <code>ssh-copy-id</code> 命令，来将本地的 SSH 公钥添加到远程系统的公钥储存中，以实现无密码登录远程系统。具体命令为 <code>ssh-copy-id -i ~/.ssh/key-with-pass.pub username@remotehost</code></p>
<p>在使用带有密码保护的私钥时，为了方便以及避免频繁输入密码导致潜在的密码外泄可能，可以使用 <code>ssh-agent</code> 密钥管理器来优化使用密钥的流程</p>
<p>使用 <code>eval $(ssh-agent)</code> 来启动密钥管理器，并使用 <code>ssh-add</code> 命令来添加私钥，语法如 <code>ssh-add ~/.ssh/key-with-pass</code></p>
<p>当 SSH 连接出现问题的时候，可以通过 <code>-v</code>、<code>-vv</code> 和 <code>-vvv</code> 三种不同等级的日志显示参数来对问题进行排查</p>
<p><code>~/.ssh/config</code> 文件包含有 SSH 客户端的相关配置信息，可以在其中配置 SSH 连接过程中的行为</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="自定义-openssh-服务配置">自定义 OpenSSH 服务配置<a href="#自定义-openssh-服务配置" class="hash-link" aria-label="自定义 OpenSSH 服务配置的直接链接" title="自定义 OpenSSH 服务配置的直接链接">​</a></h3>
<p>在 <code>/etc/ssh/sshd_config</code> 中，可以配置 OpenSSH 服务端的行为</p>
<div class="language-plaintext codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-plaintext codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain"># 设置为 允许 / 禁止 root 账户登录 SSH</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">PermitRootLogin yes/no</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># 设置为 允许 / 禁止 使用密码登录 SSH</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">PasswordAuthentication yes/no</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="总结-9">总结<a href="#总结-9" class="hash-link" aria-label="总结的直接链接" title="总结的直接链接">​</a></h3>
<ul>
<li>通过 <code>ssh</code> 命令，用户可以使用 SSH 协议安全地访问远程系统</li>
<li>客户端系统将远程服务器的身份储存在 <code>~/.ssh/known_hosts</code> 和 <code>/etc/ssh/ssh_known_hosts</code> 文件中</li>
<li>SSH 同时支持基于密码和基于密钥的身份验证</li>
<li><code>ssh-keygen</code> 命令可生成用于身份验证的 SSH 密钥对。<code>ssh-copy-id</code> 命令将公钥导出到远程系统</li>
<li><code>sshd</code> 服务在红帽企业 Linux 系统上实施 SSH 协议</li>
<li>在 <code>/etc/ssh/sshd_config</code> 配置文件中配置高级 SSH 设置</li>
<li>建议您配置 <code>sshd</code> 以禁止以 <code>root</code> 身份进行远程登录，并要求使用公钥身份验证，而非基于密码的身份验证</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="分析和存储日志">分析和存储日志<a href="#分析和存储日志" class="hash-link" aria-label="分析和存储日志的直接链接" title="分析和存储日志的直接链接">​</a></h2>
<blockquote>
<p>查找和准确解读系统事件日志，以便及时排除故障</p>
<p>目标：查找和准确解读系统事件日志，以满足故障排除之需</p>
<p>培训目标：</p>
<ul>
<li>描述红帽企业 Linux 用于记录事件的基本日志架构</li>
<li>解读相关 syslog 文件中的事件，以排除故障或查看系统状态</li>
<li>查找和解读系统日志中的条目，以排除故障或查看系统状态</li>
<li>配置系统日志，以在服务器系统重启时保留事件记录
利用网络时间协议（NTP）维护准确的时间同步，并且配置时区以确保系统日志和日志记录的事件标有正确的时间戳</li>
</ul>
<p>章节：</p>
<ul>
<li>描述系统日志架构（及测验）</li>
<li>检查 syslog 文件（及引导式练习）</li>
<li>检查系统日志条目（及引导式练习）</li>
<li>保留系统日志（及引导式练习）</li>
<li>维护准确的时间（及引导式练习）</li>
</ul>
<p>实验：分析和储存日志</p>
</blockquote>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="描述系统日志架构">描述系统日志架构<a href="#描述系统日志架构" class="hash-link" aria-label="描述系统日志架构的直接链接" title="描述系统日志架构的直接链接">​</a></h3>
<p><code>systemd-journald</code> 服务是操作系统事件日志架构的核心。<code>systemd-journald</code> 服务从许多来源收集事件信息：</p>
<ul>
<li>系统内核</li>
<li>启动过程早期阶段的输出</li>
<li>守护进程的标准输出和标准错误</li>
<li>系统日志事件</li>
</ul>
<p><code>rsyslog</code> 服务对 syslog 信息进行排序，并将它们写入到 <code>/var/log</code> 目录下的日志文件中，这些日志文件在系统重启后不予保留。</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="查看-syslog-文件">查看 Syslog 文件<a href="#查看-syslog-文件" class="hash-link" aria-label="查看 Syslog 文件的直接链接" title="查看 Syslog 文件的直接链接">​</a></h3>
<p><code>rsyslog</code> 服务的配置文件位于</p>
<ul>
<li><code>/etc/rsyslog.conf</code></li>
<li><code>/etc/rsyslog.d/*.conf</code></li>
</ul>
<p>可以使用 <code>logger</code> 手动发送消息至 <code>rsyslog</code> 服务，例如 <code>logger -p local7.notice &quot;Log entry created on host&quot;</code></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="查看系统日志条目">查看系统日志条目<a href="#查看系统日志条目" class="hash-link" aria-label="查看系统日志条目的直接链接" title="查看系统日志条目的直接链接">​</a></h3>
<p>使用 <code>journalctl</code> 命令可以查看日志中的所有信息，能查看的信息范围取决于当前用户的权限</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain"># 查看当前的所有日志信息</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ journalctl</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># 插卡最后 10 个日志条目</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ journalctl -n 10</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># 查看系统日志的最后 10 行，并实时更新</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ journalctl -f</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># 查看优先级为 `error` 或以上的日志条目</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ journalctl -p err</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># 查看指定 systemd 单元的消息（如 sshd 服务）</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ journalctl -u sshd.service</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># 列出今天记录中的所有日志条目</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ journalctl --since today</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># 列出从 2022-03-11 20:30:00 到 2022-03-14 10:00:00 范围内的所有日志条目</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ journalctl --since &quot;2022-03-11 20:30:00&quot; --until &quot;2022-03-14 10:00:00&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># 查看上一个小时的所有条目</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ journalctl --since &quot;-1 hour&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># 查看日志信息的详细输出</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ journalctl -o verbose</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># 查看 PID 为 2110 的 sshd.service 的所有日志条目</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ journalctl _SYSTEMD_UNIT=sshd.service _PID=2110</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="保留系统日志">保留系统日志<a href="#保留系统日志" class="hash-link" aria-label="保留系统日志的直接链接" title="保留系统日志的直接链接">​</a></h3>
<p><code>/etc/systemd/journald.conf</code> 文件中的 <code>Storage</code> 参数定义系统日志以易失性方式储存，还是持久化保留，参数接受三种值</p>
<ul>
<li><code>persistent</code>：使用持久储存 <code>/var/log/journal</code></li>
<li><code>volatile</code>：使用易失性储存 <code>/run/log/journal</code></li>
<li><code>auto</code>：如果存在 <code>/var/log/journal</code> 目录，则使用持久储存，否则使用易失性储存</li>
<li><code>none</code>：不使用任何储存</li>
</ul>
<p>可以通过 <code>journalctl | grep -E &#x27;Runtime Journal|System Journal&#x27;</code> 查看当前系统的日志条目大小限额</p>
<p>在启用了持久化日志储存的情况下，可以通过 <code>journalctl -b 1</code> 查看第一次系统启动的日志条目，可以通过 <code>journalctl --list-boots</code> 查看 <code>journald</code> 记录的系统启动事件。如果不加参数，直接 <code>journalctl -b</code> 则可以查看当前这次系统启动的日志条目</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="维护准确的时间">维护准确的时间<a href="#维护准确的时间" class="hash-link" aria-label="维护准确的时间的直接链接" title="维护准确的时间的直接链接">​</a></h3>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain"># 简要显示当前的时间相关系统设置</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ timedatectl</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># 列出时区数据库</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ timedatectl list-timezones</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># 更改时区为 America/Phoenix</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ timedatectl set-timezone America/Phoenix</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># 更改系统的当前时间为 9:00:00（如果没有设置自动时间同步）</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ timedatectl set-time 9:00:00</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># 启用 / 禁用 自动时间调整</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ timedatectl set-ntp true/false</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>在红帽企业 Linux 中，<code>timedatectl set-ntp</code> 命令可调整是否启用 <code>chronyd</code>NTP 服务</p>
<p><code>chronyd</code> 服务的配置文件位于 <code>/etc/chronyd.conf</code></p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain"># 验证本地系统是否使用 NTP 服务器进行自动时间调整</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ chronyc sources -v</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="总结-10">总结<a href="#总结-10" class="hash-link" aria-label="总结的直接链接" title="总结的直接链接">​</a></h3>
<ul>
<li><code>systemd-journald</code> 和 <code>rsyslog</code> 服务可捕获日志消息并写入到适当的文件中</li>
<li><code>/var/log</code> 目录包含日志文件</li>
<li>定期轮转日志文件可防止它们填满文件系统空间</li>
<li><code>systemd</code> 日志是临时的，不会在系统重启后持久保留</li>
<li><code>chronyd</code> 服务有助于将时间设置与时间源同步</li>
<li>您可以根据服务器的位置更新其时区</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="管理网络">管理网络<a href="#管理网络" class="hash-link" aria-label="管理网络的直接链接" title="管理网络的直接链接">​</a></h2>
<blockquote>
<p>目标：配置红帽企业 Linux 服务器上的网络接口和设置</p>
<p>培训目标：</p>
<ul>
<li>描述服务器关于网络寻址和路由的基本概念</li>
<li>使用命令行实用程序，测试并检查当前的网络配置</li>
<li>使用 <code>nmcli</code> 命令管理网络设置和设备</li>
<li>通过编辑配置文件修改网络配置</li>
<li>配置服务器的静态主机名及其名称解析，并测试其结果</li>
</ul>
<p>章节：</p>
<ul>
<li>描述网络概念（及测验）</li>
<li>验证网络配置（及引导式练习）</li>
<li>从命令行配置网络（及引导式练习）</li>
<li>编辑网络配置文件（及引导式练习）</li>
<li>配置主机名和名称解析（及引导式练习）</li>
</ul>
<p>实验：管理网络</p>
</blockquote>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="描述网络概念">描述网络概念<a href="#描述网络概念" class="hash-link" aria-label="描述网络概念的直接链接" title="描述网络概念的直接链接">​</a></h3>
<p>TCP/IP 网络模型是一组简化的四层通信协议</p>
<ul>
<li>应用：应用层，如 SSH 协议，HTTP（S）协议，FTP 协议，SMTP 协议等等</li>
<li>传输：TCP 和 UDP 是传输层协议，TCP 是可靠连接导向型通信，UDP 属于无连接数据报协议。在 <code>/etc/services</code> 文件中可以查看常用和已注册的端口列表</li>
<li>互联网：IPv4 和 IPv6 协议是互联网层协议，每个主机具有 IP 地址和前缀，用于确定网络地址</li>
<li>链路：最常见的网络类型是有线以太网（802.3）和 WIFI（802.11）。每一个物理设备具有一个媒体访问控制（MAC）地址，也称为硬件地址。</li>
</ul>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain"># 查看本地网卡信息</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ ip addr show</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ ip a</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># 以简短形式列出网卡信息</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ ip -br addr show</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># 列出指定网卡的信息（如 eth0）</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ ip addr show eth0</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="验证网络配置">验证网络配置<a href="#验证网络配置" class="hash-link" aria-label="验证网络配置的直接链接" title="验证网络配置的直接链接">​</a></h3>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain"># 列出系统上可用的所有网络接口</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ ip link show</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># 查看设备和地址信息（如 ens3）</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ ip addr show ens3</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># 显示关于网络性能的统计信息</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ ip -s link show</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># 查看路由表</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ ip route</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># 查看 IPv6 的路由表</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ ip -6 route</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>若要追踪网络流量经过哪些设备，可以使用 <code>traceroute</code> 和 <code>tracepath</code> 命令</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain"># 追踪到 access.redhat.com 的网络流量经过哪些设备</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ tracepath access.redhat.com</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ traceroute access.redhat.com</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># 基于 TCP 追踪到 access.redhat.com 的网络流量经过哪些设备</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ traceroute -T access.redhat.com</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># 基于 ICMP 追踪到 access.redhat.com 的网络流量经过哪些设备</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ traceroute -I access.redhat.com</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>查询本地系统当前网络的套接字，可以使用 <code>netstat</code> 或者使用 <code>ss</code></p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain"># 显示套接字统计信息</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ ss -ta</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="从命令行配置网络">从命令行配置网络<a href="#从命令行配置网络" class="hash-link" aria-label="从命令行配置网络的直接链接" title="从命令行配置网络的直接链接">​</a></h3>
<p>在 Linux 中，可以使用 <code>nmcli</code> 对 NetworkManager 服务进行管理，NetworkManager 服务可以监控和管理系统的网络设置</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain"># 显示所有网络设备的状态</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ nmcli device status</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ nmcli dev status</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># 显示所有连接的列表</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ nmcli connection show</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ nmcli con show</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># 显示所有活动的连接的列表</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ nmcli connection show --active</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ nmcli con show --active</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>可以手动添加一个网络连接</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain"># 添加 eno2 网络接口的 ethernet 类型的 eno2 连接</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ nmcli con add con-name eno2 type ethernet ifname eno2</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>可以添加一个静态 IPv4 的网络连接 eno3</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain"># 静态 IPv4 网络设置的 eno3 网络接口的 ethernet 类型的 eno3 连接</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># IP 地址为 192.168.0.5</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># 网络前缀为 /24</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># 网络网关为 192.168.0.254</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ nmcli con add con-name eno3 type ethernet ifname eno3 \</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    ipv4.method manual \</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    ipv4.address 192.168.0.5/24 \</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    ipv4.gateway 192.168.0.254</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复 制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>同时配置静态 IPv4 和静态 IPv6 的网络连接 eno4</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain"># IPv6 地址 2001:db8:0:1::c000:207</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># IPv6 网络前缀 /64</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># IPv6 网关地址 2001:db8:0:1::1</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># IPv4 地址 192.0.2.7</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># IPv4 网络前缀 /24</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># IPv4 网关地址 192.0.2.1</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ nmcli con add con-name eno4 type ethernet ifname eno4 \</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    ipv6.method manual \</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    ipv6.address 2001:db8:0:1::c000:207/64 \</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    ipv6.gateway 2001:db8:0:1::1 \</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    ipv4.method manual \</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    ipv4.address 192.0.2.7/24 \</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    ipv4.gateway 192.0.2.1</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>通过 <code>nmcli</code> 管理网络连接</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain"># 激活网络连接</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ nmcli connection up &lt;connection name&gt;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># 断开网络设备的连接</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ nmcli device disconnect &lt;device name&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>通过 <code>nmcli</code> 更新连接设置</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain"># 更新 static-ens3 连接</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># IPv4 地址 192.0.2.2/24</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># IPv4 网关地址 192.0.2.254</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># 系统启动时自动启用</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ nmcli con mod static-ens3 \</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    ipv4.address 192.0.2.2/24 \</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    ipv4.gateway 192.0.2.254 \</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    connection.autoconnect yes</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># 更新 static-ens3 连接</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># IPv6 地址 2001:db8:0:1::a00:1/64</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># IPv6 网关地址 2001:db8:0:1::1</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># 系统启动时自动启用</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ nmcli con mod static-ens3 \</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    ipv6.address 2001:db8:0:1::a00:1/64 \</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    ipv6.gateway 2001:db8:0:1::1</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>一些设置可以拥有多个值，可以通过加号和减号对配置项列表进行编辑</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain"># 更新 static-ens3 连接</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># IPv4 的 dns 服务器列表添加 2.2.2.2</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ nmcli con mod static-ens3 +ipv4.dns 2.2.2.2</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>同时，也可以手动编辑 <code>cat /etc/NetworkManager/system-connections/</code> 目录下的配置文件来配置连接，并在编辑后使用 <code>nmcli con reload</code> 更新配置项</p>
<p><code>nmcli connection delete</code> 命令可以从系统中删除连接，断开设备连接，并删除连接的配置文件</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain"># 删除 static-ens3 连接</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ nmcli con del static-ens3</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>对 <code>NetworkManager</code> 服务部分配置项进行配置需要 <code>root</code> 权限，可以通过 <code>nmcli general permissions</code> 命令对权限进行查询</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="编辑网络配置文件">编辑网络配置文件<a href="#编辑网络配置文件" class="hash-link" aria-label="编辑网络配置文件的直接链接" title="编辑网络配置文件的直接链接">​</a></h3>
<p>可以手动对 NetworkManager 服务的配置文件进行手动编辑，配置文件位于</p>
<ul>
<li><code>/etc/NetworkManager/system-connections/</code></li>
<li><code>/etc/sysconfig/network-scripts/</code> (old)</li>
</ul>
<p>对配置文件进行手动修改了之后，需要执行 <code>nmcli con reload</code> 进行重载</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="配置主机名和名称解析">配置主机名和名称解析<a href="#配置主机名和名称解析" class="hash-link" aria-label="配置主机名和名称解析的直接链接" title="配置主机名和名称解析的直接链接">​</a></h3>
<p>执行 <code>hostname</code> 可以输出当前系统的主机名，使用 <code>hostnamectl</code> 对主机名等参数进行配置</p>
<p><code>/etc/hosts</code> 文件记录了静态名称解析记录，可以使用 <code>getent hosts &lt;hostname&gt;</code> 对静态名称解析记录进行查询，使用 <code>host &lt;hostname&gt;</code> 测试 DNS 服务器连接并执行 DNS 查询</p>
<p>若要执行 dns 查询，可以使用 <code>host</code>、<code>dig</code> 和 <code>nslookup</code> 命令</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="总结-11">总结<a href="#总结-11" class="hash-link" aria-label="总结的直接链接" title="总结的直接链接">​</a></h3>
<ul>
<li>TCP/IP 网络模型是一种简化的四层抽象集合，用于描述不同的协议如何进行互操作，以便计算机通过互联网将流量从一台计算机发送至另一计算机</li>
<li>IPv4 是当今互联网上使用的主要网络协议</li>
<li>IPv6 旨在最终取代 IPv4 网络协议</li>
<li>默认情况下，红帽企业 Linux 以双栈模式运行，并行使用两种协议</li>
<li>网络路由决定了将数据包发送到特定网络的正确网络接口</li>
<li><code>NetworkManager</code> 守护进程监控和管理网络配置</li>
<li><code>nmcli</code> 命令是一个用于通过 <code>NetworkManager</code> 守护进程来配置网络设置的命令行工具</li>
<li>自虹膜企业 Linux 9 起，网络配置的默认位置是 <code>/etc/NetworkManager/system-connections</code> 目录</li>
<li>系统的静态主机名储存在 <code>/etc/hostname</code> 文件中</li>
<li><code>hostnamectl</code> 命令可以修改或查看系统的主机名和相关设置的状态</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="归档和传输文件">归档和传输文件<a href="#归档和传输文件" class="hash-link" aria-label="归档和传输文件的直接链接" title="归档和传输文件的直接链接">​</a></h2>
<blockquote>
<p>目标：将文件归档，并从一个系统复制文件到另一系统</p>
<p>培训目标：</p>
<ul>
<li>使用 <code>tar</code> 将文件和目录归档到压缩文件中，以及提取现有 <code>tar</code> 存档的内容</li>
<li>通过 SSH，与远程系统安全地来回传输文件</li>
<li>高效、安全地将本地文件或目录内容与远程服务器副本同步</li>
</ul>
<p>章节：</p>
<ul>
<li>管理压缩的 tar 存档（及引导式练习）</li>
<li>在系统之间安全地传输文件（及引导式练习）</li>
<li>在系统之间安全地同步文件（及引导式练习）</li>
</ul>
<p>实验：归档和传输文件</p>
</blockquote>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="管理压缩的-tar-存档">管理压缩的 tar 存档<a href="#管理压缩的-tar-存档" class="hash-link" aria-label="管理压缩的 tar 存档的直接链接" title="管理压缩的 tar 存档的直接链接">​</a></h3>
<p><code>tar</code> 命令执行操作需要以下操作之一</p>
<ul>
<li><code>-c</code> or <code>--create</code> ：创建存档文件</li>
<li><code>-t</code> or <code>--list</code> ：列出存档的内容</li>
<li><code>-x</code> or <code>--extract</code> ：提取存档</li>
</ul>
<p>通常包括以下常用的选项</p>
<ul>
<li><code>-v</code> or <code>--verbose</code> ：显示操作期间存档或提取的文件</li>
<li><code>-f</code> or <code>--file</code> ：要创建或打开的存档文件名</li>
<li><code>-p</code> or <code>--preserve-permissions</code> ：提取时保留原始文件权限</li>
<li><code>--xattrs</code> ：启用扩展属性支持</li>
<li><code>--selinux</code> ：启用 SELinux 上下文支持</li>
</ul>
<p>以下选项可以用于选择算法</p>
<ul>
<li><code>-a</code> or <code>--auto-compress</code> ：使用存档的后缀决定压缩算法</li>
<li><code>-z</code> or <code>--gzip</code> ：使用 gzip 算法</li>
<li><code>-j</code> or <code>--bzip2</code> ：使用 bzip2 算法</li>
<li><code>-J</code> or <code>--xz</code> ：使用 xz 压缩算法</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="在系统之间安全地传输文件">在系统之间安全地传输文件<a href="#在系统之间安全地传输文件" class="hash-link" aria-label="在系统之间安全地传输文件的直接链接" title="在系统之间安全地传输文件的直接链接">​</a></h3>
<p>可以使用 OpenSSH 套件中的 sftp 命令进行文件传输</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain"># 使用 sftp 连接到远程主机</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ sftp username@remotehost</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># 查询本地当前工作目录</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">sftp&gt; lpwd</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># 查询远程当前工作目录</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">sftp&gt; pwd</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># 在远程主机上创建目录</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">sftp&gt; mkdir &lt;folder name&gt;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># 将本地文件传输到远程的当前工作目录</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">sftp&gt; put &lt;local file path&gt;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># 将远程文件传输到本地的当前工作目录</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">sftp&gt; get &lt;remote file path&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>在 <code>get</code> 和 <code>put</code> 命令中，可以使用 <code>-r</code> 参数来以递归的方式操作目录</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="在系统之间安全地同步文件">在系统之间安全地同步文件<a href="#在系统之间安全地同步文件" class="hash-link" aria-label="在系统之间安全地同步文件的直接链接" title="在系统之间安全地同步文件的直接链接">​</a></h3>
<p>使用 <code>rsync</code> 可以在系统之间安全地复制并同步文件（差量化）</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="总结-12">总结<a href="#总结-12" class="hash-link" aria-label="总结的直接链接" title="总结的直接链接">​</a></h3>
<ul>
<li><code>tar</code> 命令可从一组文件和目录创建存档文件。它还能提取和列出存档文件中的文件</li>
<li><code>tar</code> 命令提供一组压缩方式，用于缩小存档的大小</li>
<li>除了提供安全远程 shell 外，<code>SSH</code> 服务也提供 <code>sftp</code> 命令，作为与运行 <code>SSH</code> 服务器的远程系统来回传输文件的安全方式</li>
<li><code>rsync</code> 命令可安全高效地在两个目录之间同步文件夹，其中任一目录可以在远程系统上</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="安装和更新软件包">安装和更新软件包<a href="#安装和更新软件包" class="hash-link" aria-label="安装和更新软件包的直接链接" title="安装和更新软件包的直接链接">​</a></h2>
<blockquote>
<p>目标：从红帽和 DNF 软件包存储库下载、安装、更新和管理软件包</p>
<p>培训目标：</p>
<ul>
<li>将系统注册到您的红帽账户，并使用红帽订阅管理为其分配软件更新和支持服务的权利</li>
<li>说明如何以 RPM 软件包形式提供软件，并调查 DNF 和 RPM 安装的系统软件包
使用 <code>dnf</code> 命令查找、安装和更新软件包</li>
<li>启用和禁用红帽或第三方 DNF 储存库</li>
</ul>
<p>章节：</p>
<ul>
<li>注册系统以获取红帽支持（及测验）</li>
<li>解释和调查 RPM 软件包（及引导式练习）</li>
<li>使用 DNF 安装和更新软件包（及引导式练习）</li>
<li>启用 DNF 软件储存库（及引导式练习）</li>
</ul>
<p>实验：安装和更新软件包</p>
</blockquote>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="注册系统以获取红帽支持">注册系统以获取红帽支持<a href="#注册系统以获取红帽支持" class="hash-link" aria-label="注册系统以获取红帽支持的直接链接" title="注册系统以获取红帽支持的直接链接">​</a></h3>
<p>可以使用 GUI 进行系统注册，或者使用 CLI 程序进行注册</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain"># 使用红帽客户门户凭据进行注册系统</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ subscription-manager register --username &lt;user name&gt;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># 查看当前账户的可用订阅</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ subscription-manager list --available</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># 自动附加订阅</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ subscription-manager attach --auto</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># 从可用列表的特定池中附加订阅</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ subscription-manager attach --pool=&lt;pool ID&gt;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># 查看已用订阅</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ subscription-manager list --consumed</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># 取消注册系统</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ subscription-manager unregister</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>授权证书可在本地系统上储存当前的授权信息，系统授权证书位于</p>
<ul>
<li><code>/etc/pki/product</code> ：已安装的红帽产品</li>
<li><code>/etc/pki/consumer</code> ：注册的红帽账户</li>
<li><code>/etc/pki/entitlement</code> ：系统附加有哪些订阅</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="解释和调查-rpm-软件包">解释和调查 RPM 软件包<a href="#解释和调查-rpm-软件包" class="hash-link" aria-label="解释和调查 RPM 软件包的直接链接" title="解释和调查 RPM 软件包的直接链接">​</a></h3>
<p><code>rpm</code> 实用程序是一款低级工具，可检索软件包文件和已安装软件包的内容的相关信息</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain"># 列出所有已安装的软件包</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ rpm -qa</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># 确定提供 &lt;filename&gt; 的软件包</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ rpm -qf &lt;filename&gt;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># 列出当前安装的软件包版本</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ rpm -q</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># 获取软件包的详细信息</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ rom -qi</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># 列出软件包安装的文件</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ rpm -ql</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># 仅列出软件包安装的配置文件</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ rpm -qc</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># 仅列出软件包安装的文档文件</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ rpm -qd</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># 列出安装或删除软件包时执行的 shell 脚本</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ rpm -q --scripts</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># 列出软件包的更改日志信息</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ rpm -q --changelog</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># 列出本地软件包安装的文件</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ rpm -qlp</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>通过 <code>rpm</code> 可以对本地的 rpm 包进行操作</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain"># 安装在本地目录的 RPM 包</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ rpm -ivh &lt;rpm filepath&gt;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># 从 rpm 包中提取文件</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ rpm2cpio &lt;rpm filepath&gt; | cpio -idv</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># 列出 rpm 包内的文件</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ rpm2cpio &lt;rpm filepath&gt; | cpio -tv</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="使用-dnf-安装和更新软件包">使用 DNF 安装和更新软件包<a href="#使用-dnf-安装和更新软件包" class="hash-link" aria-label="使用 DNF 安装和更新软件包的直接链接" title="使用 DNF 安装和更新软件包的直接链接">​</a></h3>
<p>DNF（Dandified YUM）取代了 YUM，两者在功能上一致</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain"># 显示已安装和可用的软件包</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ dnf list &quot;http*&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># 使用关键词进行软件包检索</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ dnf search all &quot;web server&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># 查看软件包相关的详细信息</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ dnf info httpd</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># 查询与指定路径匹配的软件包</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ dnf provides /var/www/html</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>可以使用 <code>dnf</code> 对软件包进行安装和删除</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain"># 获取并安装软件包</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ dnf install httpd</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># 获取并更新软件包</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ dnf update &lt;package name&gt;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># 为系统安装新的内核</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ dnf update kernel</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># 列出所有已安装和可用的内核</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ dnf list kernel</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># 删除安装的软件包</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ dnf remove httpd</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>在 <code>dnf</code> 中存在有组的概念，即针对特定目的而一起安装的相关软件的集合</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain"># 显示已安装和可用的组</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ dnf group list</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># 显示已安装和可用的组（包括隐藏的组）</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ dnf group list hidden</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># 显示与组相关的信息</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ dnf group info &quot;RPM Development Tools&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># 安装一个组</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ dnf group install &quot;RPM Development Tools&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>所有的安装和删除事物的日志都记录在 <code>/var/log/dnf.rpm.log</code> 中</p>
<p><code>dnf history</code> 命令可以显示安装和删除事物的摘要，使用 <code>dnf history undo 6</code> 可以撤销事物</p>
<p><code>dnf</code> 支持应用流的模块化功能</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain"># 列出可用的模块</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ dnf module list</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># 列出特定模块的模块流</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ dnf module list module-name</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># 显示模块的详细信息</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ dnf module info module-name</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># 显示哪个模块提供特定的软件包</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ dnf module provides package</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="启用-dnf-软件储存库">启用 DNF 软件储存库<a href="#启用-dnf-软件储存库" class="hash-link" aria-label="启用 DNF 软件储存库的直接链接" title="启用 DNF 软件储存库的直接链接">​</a></h3>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain"># 列出所有可用的储存库及其状态</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ dnf repolist all</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># 启用或禁用储存库</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ dnf config-manager --enable rhel-9-server-debug-rpms</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ dnf config-manager --disable rhel-9-server-debug-rpms</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># 添加储存库</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ dnf config-manager --add-repo=&quot;https://dl.fedoraproject.org/pub/epel/9/Everything/x86_64/&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><code>dnf</code> 处理软件包时，基于 GPG 公钥对软 件包进行校验，可以使用 <code>rpm --import</code> 导入 GPG 公钥</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="总结-13">总结<a href="#总结-13" class="hash-link" aria-label="总结的直接链接" title="总结的直接链接">​</a></h3>
<ul>
<li>红帽订阅管理提供用于向计算机授权产品订阅的工具，以便获取软件包的更新，并且跟踪系统所用支持合同和订阅的相关信息</li>
<li>软件以 RPM 软件包的形式提供，因此可以轻松地在系统上安装、升级和卸载软件</li>
<li><code>rpm</code> 命令可用于查询本地数据库，以提供有关已安装软件包的内容的信息并安装已下载的软件包文件</li>
<li><code>dnf</code> 实用程序是一个强大的命令行工具，可用于安装、更新、删除和查询软件包</li>
<li>红帽企业 Linux 使用应用流，通过提供单个储存库来承载应用软件包及其依赖项的多个版本</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="访问-linux-文件系统">访问 Linux 文件系统<a href="#访问-linux-文件系统" class="hash-link" aria-label="访问 Linux 文件系统的直接链接" title="访问 Linux 文件系统的直接链接">​</a></h2>
<blockquote>
<p>目标：访问、检查和使用附加至 Linux 服务器的存储上的现有文件系统</p>
<p>培训目标：</p>
<ul>
<li>识别文件系统层次结构中的目录，以及储存该目录的设备</li>
<li>通过在文件系统层次结构中添加和删除文件系统，访问文件系统的内容</li>
<li>通过 <code>find</code> 和 <code>locate</code> 命令搜索已挂载文件系统上的文件</li>
</ul>
<p>章节：</p>
<ul>
<li>识别文件系统和设备（及测验）</li>
<li>挂载和卸载文件系统（及引导式练习）</li>
<li>查找系统上的文件（及引导式练习）</li>
</ul>
<p>实验：访问 Linux 文件系统</p>
</blockquote>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="识别文件系统和设备">识别文件系统和设备<a href="#识别文件系统和设备" class="hash-link" aria-label="识别文件系统和设备的直接链接" title="识别文件系统和设备的直接链接">​</a></h3>
<p><code>/dev</code> 目录下储存 RHEL 自动为所有设备创建的块设备文件</p>
<p>使用 <code>df</code> 列出系统上的文件系统和挂载点，可以添加 <code>-h</code> 参数，使 <code>df</code> 的输出单位转换为人类可读格式</p>
<p>使用 <code>du</code> 列出某一特定目录树空间的详细信息，可以添加 <code>-h</code> 参数，使 <code>du</code> 的输出单位转换为人类可读格式</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="挂载和卸载文件系统">挂载和卸载文件系统<a href="#挂载和卸载文件系统" class="hash-link" aria-label="挂载和卸载文件系统的直接链接" title="挂载和卸载文件系统的直接链接">​</a></h3>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain"># 列出指定块设备或所有可用设备的详细信息</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ lsblk</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># 将 /dev/vda4 分区挂载到 /mnt/data 挂载点</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ mount /dev/vda4 /mnt/data</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># 列出设备的完整路径、其 UUID 和挂载点</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ lsblk -fp</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># 通过文件系统的 UUID 挂载文件系统</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ mount UUID=&quot;&lt;UUID&gt;&quot; /mnt/data</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># 使用挂载点卸载设备</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ umount /mnt/data</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># 列出所有打开的文件，以及访问该文件系统的进程</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ lsof /mnt/data</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="查找系统上的文件">查找系统上的文件<a href="#查找系统上的文件" class="hash-link" aria-label="查找系统上的文件的直接链接" title="查找系统上的文件的直接链接">​</a></h3>
<p><code>locate</code> 的数据库会每日更新，也可以使用 <code>updatedb</code> 命令进行强制即可更新</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain"># 查找用户可以读取并且名称或者路径中与 `passwd` 关键词匹配的文件</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ locate passwd</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># 执行不区分大小写的搜索</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ locate -i messages</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># 对搜索结果的结果数量进行限制</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ locate -n 5 passwd</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><code>find</code> 通过在文件系统层次结构中执行实时搜索来查找文件</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain"># 搜索根目录的 sshd_config 文件</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ find / -name sshd_config</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># 从根目录开始搜索以 .txt 扩展名结尾的文件</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ find / -name &#x27;*.txt&#x27;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># 搜索含有 pass 字符串的文件</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ find / -name &#x27;*pass*&#x27;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># 执行不区分大小写的搜索</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ find / -iname &#x27;*messages*&#x27;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># 搜索 developer 用户拥有的文件</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ find -user developer</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># 搜索 developer 组拥有的文件</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ find -group developer</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># 搜索 uid == 1000 的用户拥有的文件</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ find -uid 1000</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># 搜索 gid == 1000 的组拥有的文件</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ find -gid 1000</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># 搜索特定文件权限的文件</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ find /home -perm 764</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ find /home -perm u=rwx,g=rw,o=r</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># 基于文件权限进行搜索时，列出文件的信息</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ find /home -perm 764 -ls</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><code>find</code> 可以基于文件大小进行搜索</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain"># 大小为 10 兆字节的文件</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ find -size 10M</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># 大小超过 10 千兆字节的文件</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ find -size +10G</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># 大小不到 10 千字节的文件</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ find -size -10k</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><code>find</code> 可以基于文件的修改时间进行搜索</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain"># 120 分钟前更改过内容的所有文件</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ find / -mmin 120</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># 200 分钟前更改过内容的所有文件</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ find / -mmin +200</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># 过去 150 分钟内更改过内容的所有文件</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ find / -mmin -150</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><code>find</code> 也可以基于文件类型进行搜索</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain"># 搜索 /etc 目录中的所有目录</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ find /etc -type d</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># 搜索 / 目录中的所有软链接</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ find / -type l</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># 搜索 /dev 目录中的所有块设备</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ find /dev -type b</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># 搜索硬链接数超过一个的所有常规文件</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ find / -type f -links +1</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="总结-14">总结<a href="#总结-14" class="hash-link" aria-label="总结的直接链接" title="总结的直接链接">​</a></h3>
<ul>
<li>储存设备由块设备文件类型来表示</li>
<li><code>df</code> 命令可报告所有已挂载的普通文件系统的总磁盘空间、已用磁盘空间和可用磁盘空间</li>
<li><code>root</code> 用户可以使用 <code>mount</code> 命令手动挂载文件系统</li>
<li>要成功卸载设备，所有进程都必须停止访问对应挂载点</li>
<li>在使用图形环境时，可移动储存设备挂载到 <code>/run/media</code> 目录</li>
<li><code>lsblk</code> 命令可列出块设备的详细信息，如大小和 UID</li>
<li><code>find</code> 命令可以根据搜索条件，在本地文件系统中实时搜索文件</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="分析服务器和获取支持">分析服务器和获取支持<a href="#分析服务器和获取支持" class="hash-link" aria-label="分析服务器和获取支持的直接链接" title="分析服务器和获取支持的直接链接">​</a></h2>
<blockquote>
<p>目标：在基于 Web 的管理界面中调查和解决问题，并从红帽获取支持以帮助解决问题</p>
<p>培训目标：</p>
<ul>
<li>激活 Web 控制台管理界面，以远程管理和监控红帽企业 Linux 服务器性能</li>
<li>描述和使用红帽客户门户上的重要资源，并在红帽文档和知识库中查找信息</li>
<li>使用 Red Hat Insights 分析服务器问题，修复或解决问题，以及确认解决方案是否奏效</li>
</ul>
<p>章节：</p>
<ul>
<li>分析和管理远程服务器（及引导式练习）</li>
<li>创建诊断报告（及引导式练习）</li>
<li>通过红帽智能分析工具检测和解决问题（及测验）</li>
</ul>
</blockquote>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="总结-15">总结<a href="#总结-15" class="hash-link" aria-label="总结的直接链接" title="总结的直接链接">​</a></h3>
<ul>
<li>Web 控制台是一个基于 Web 的服务器管理界面，它的基础时开源的 <code>cockpit</code> 服务</li>
<li>Web 控制台提供系统性能图表、用于管理系统配置和检查日志的图形工具，以及交互式终端界面</li>
<li>通过红帽客户门户，您可以访问红帽产品的文档、下载项目、优化工具、支持案例管理，以及订阅和权力管理</li>
<li><code>redhat-support-tool</code> 命令行工具查询知识库并处理支持案例</li>
<li>红帽智能分析是一款基于 SaaS 的预测分析工具，可帮助您识别和修复系统的安全性、性能、可用性和稳定性威胁</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="综合复习">综合复习<a href="#综合复习" class="hash-link" aria-label="综合复习的直接链接" title="综合复习的直接链接">​</a></h2>
<blockquote>
<p>完成实训练习，以回顾本课程所涵盖的内容</p>
</blockquote>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="  从命令行管理文件">从命令行管理文件<a href="#从命令行管理文件" class="hash-link" aria-label="从命令行管理文件的直接链接" title="从命令行管理文件的直接链接">​</a></h3>
<p>规范</p>
<ul>
<li>以 <code>student</code> 用户身份登录 serverb</li>
<li>创建 <code>/home/student/grading</code> 目录</li>
<li>在 <code>/home/student/grading</code> 目录中创建以下三个空文件：<code>grade1</code>、<code>grade2</code> 和 <code>grade3</code></li>
<li>将 <code>/home/student/bin/manage</code> 文件的前五行采集到 <code>/home/student/grading/review.txt</code> 文件中</li>
<li>将 <code>/home/student/bin/manage</code> 文件的最后三行附加到 <code>/home/student/grading/review.txt</code> 文件</li>
<li>将 <code>/home/student/grading/review.txt</code> 文件复制到 <code>/home/student/grading/review-copy.txt</code> 文件</li>
<li>编辑 <code>/home/student/grading/review-copy.txt</code> 文件，使 <code>Test JJ</code> 行出现两次</li>
<li>编辑 <code>/home/student/grading/review-copy.txt</code> 文件以删除 <code>Test HH</code> 行</li>
<li>编辑 <code>/home/student/grading/review-copy.txt</code> 文件，使得 <code>Test BB</code> 行和 <code>Test CC</code> 行之间存在 <code>A new line</code> 行</li>
<li>创建 <code>/home/student/grading/grade1</code> 文件的硬链接，取名为 <code>/home/student/hardcopy</code></li>
<li>创建 <code>/home/student/grading/grade2</code> 文件的符号链接，取名为 <code>/home/student/softcopy</code></li>
<li>将列出 <code>/boot</code> 目录的内容的命令输出保存到 <code>/home/student/grading/longlisting.txt</code> 文件。输出应该是一个长列表，内含各个文件的文件权限、所有者和组所有者、大小以及修改日期。输出中应当省略隐藏文件</li>
</ul>
<p>部署环境</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">[student@workstation ~]$ lab start rhcsa-rh124-review1</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Starting lab.</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> · Checking lab systems ................................................................................................................................................ SUCCESS</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> · Creating /home/student/bin folder on serverb ........................................................................................................................ SUCCESS</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> · Creating /home/student/bin/manage file on serverb ................................................................................................................... SUCCESS</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> · Changing /home/student/bin folder owner and group ................................................................................................................... SUCCESS</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> · Creating /tmp/md5sum.txt file on serverb ............................................................................................................................ SUCCESS</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>开始测验</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">[student@workstation ~]$ ssh student@serverb</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Activate the web console with: systemctl enable --now cockpit.socket</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Register this system with Red Hat Insights: insights-client --register</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Create an account or view all your systems at https://red.ht/insights-dashboard</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Last login: Sat Jun  1 02:07:33 2024 from 172.25.250.250</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">[student@serverb ~]$ mkdir /home/student/grading</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">[student@serverb ~]$ cd /home/student/grading</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">[student@serverb grading]$ touch grade1 grade2 grade3</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">[student@serverb grading]$ ll</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">total 0</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">-rw-r--r--. 1 student student 0 Jun  1 02:27 grade1</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">-rw-r--r--. 1 student student 0 Jun  1 02:27 grade2</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">-rw-r--r--. 1 student student 0 Jun  1 02:27 grade3</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">[student@serverb grading]$ head -n 5 /home/student/bin/manage &gt; /home/student/grading/review.txt</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">[student@serverb grading]$ tail -n 3 /home/student/bin/manage &gt;&gt; /home/student/grading/review.txt</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">[student@serverb grading]$ cat /home/student/grading/review.txt</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Test AA</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Test BB</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Test CC</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Test DD</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Test EE</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Test HH</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Test II</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Test JJ</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">[student@serverb grading]$ cp /home/student/grading/review.txt /home/student/grading/review-copy.txt</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">[student@serverb grading]$ vim /home/student/grading/review-copy.txt</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># 中间的 vim 操作省略</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">[student@serverb grading]$ ln /home/student/grading/grade1 /home/student/hardcopy</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">[student@serverb grading]$ ls -lih /home/student/hardcopy</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">25169628 -rw-r--r--. 2 student student 0 Jun  1 02:27 /home/student/hardcopy</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">[student@serverb grading]$ ls -lih /home/student/grading/grade1</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">25169628 -rw-r--r--. 2 student student 0 Jun  1 02:27 /home/student/grading/grade1</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">[student@serverb grading]$ ln -s /home/student/grading/grade2 /home/student/softcopy</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">[student@serverb grading]$ ls -lih /home/student/softcopy</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">15736 lrwxrwxrwx. 1 student student 28 Jun  1 02:39 /home/student/softcopy -&gt; /home/student/grading/grade2</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">[student@serverb ~]$ ls -l /boot &gt; /home/student/grading/longlisting.txt</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>检验操作</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">[student@workstation ~]$ lab grade rhcsa-rh124-review1</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Grading lab.</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> · Checking lab systems ................................................................................................................................................ SUCCESS</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> · Verifying /home/student/bin/manage file ............................................................................................................................. SUCCESS</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> · Verifying /home/student/grading/review.txt file exists .............................................................................................................. SUCCESS</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> · Verifying /home/student/grading/review-copy.txt file exists ......................................................................................................... SUCCESS</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> · Verifying /home/student/grading/longlisting.txt file exists ......................................................................................................... SUCCESS</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> · Verifying /home/student/grading folder exists ....................................................................................................................... SUCCESS</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> · Verifying /home/student/grading/grade1 file exists and is empty ..................................................................................................... SUCCESS</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> · Verifying /home/student/grading/grade2 file exists and is empty ..................................................................................................... SUCCESS</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> · Verifying /home/student/grading/grade3 file exists and is empty ..................................................................................................... SUCCESS</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> · Evaluating the hard link ............................................................................................................................................ SUCCESS</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> · Evaluating the soft link ............................................................................................................................................ SUCCESS</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> · Evaluating the longlisting file ..................................................................................................................................... SUCCESS</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> · Evaluating the manage-files-copy.txt file ........................................................................................................................... SUCCESS</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Overall lab grade: PASS</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="管理用户和组权限以及进程">管理用户和组、权限以及进程<a href="#管理用户和组权限以及进程" class="hash-link" aria-label="管理用户和组、权限以及进程的直接链接" title="管理用户和组、权限以及进程 的直接链接">​</a></h3>
<p>规范</p>
<ul>
<li>以 <code>student</code> 用户身份登录 <code>serverb</code></li>
<li>识别和终止当前使用最多 CPU 时间的进程</li>
<li>创建 <code>database</code> 组，其 GID 为 50000</li>
<li>创建 <code>dbadmin1</code> 用户，并使用以下要求对其进行配置<!-- -->
<ul>
<li>添加 <code>database</code> 作为补充组</li>
<li>将密码设置为 <code>redhat</code>，并强制在第一次登录时更改密码</li>
<li>允许上次密码更改起 10 天后更改密码</li>
<li>将密码到期时间设为上次密码更改后 30 天</li>
<li>允许用户使用 <code>sudo</code> 命令以超级用户身份运行任何指令</li>
<li>为 <code>dbadmin1</code> 用户将默认 umask 配置为 007</li>
</ul>
</li>
<li>创建 <code>/home/dbadmin1/grading/review2</code> 目录，将 <code>dbadmin1</code> 设为所属用户，<code>database</code> 组设为所属组</li>
<li>配置 <code>/home/dbadmin1/grading/review2</code> 目录，使 <code>database</code> 组拥有此目录中创建的任何文件，无论该文件是由哪个用户创建的。配置目录的权限，以允许 <code>database</code> 组成员访问该目录以及在其中创建文件。所有其他用户应具有该目录的读取和执行权限</li>
<li>确保仅允许用户从 <code>/home/dbadmin1/grading/review2</code> 目录中删除自己拥有的文件</li>
</ul>
<p>部署环境</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">[student@workstation ~]$ lab start rhcsa-rh124-review2</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Starting lab.</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> · Checking lab systems ................................................................................................................................................ SUCCESS</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> · Creating ansible repo on serverb .................................................................................................................................... SUCCESS</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> · Ensuring the CPU intensive process is not present on serverb ........................................................................................................ SUCCESS</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> · Creating a CPU intensive process on serverb ......................................................................................................................... SUCCESS</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> · Saving the PID for the CPU intensive process on serverb ............................................................................................................. SUCCESS</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> · Ensuring dbadmin1 user does not exist on serverb .................................................................................................................... SUCCESS</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> · Ensuring database group does not exist on serverb ................................................................................................................... SUCCESS</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> · Ensuring dbadmin1 is not present in sudoers file .................................................................................................................... SUCCESS</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> · Ensuring dbadmin1 is not present in sudoers folder .................................................................................................................. SUCCESS</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> · Creating /home/student/grading folder on serverb .................................................................................................................... SUCCESS</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> · Changing owner and group on /home/student/grading folder on serverb ................................................................................................. SUCCESS</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> · Backing up /etc/sudoers on serverb .................................................................................................................................. SUCCESS</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>开始测验</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain"># top 相关操作省略</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">[root@serverb ~]# groupadd -g 50000 database</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">[root@serverb ~]# useradd dbadmin1</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">[root@serverb ~]# usermod -G database dbadmin1</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">[root@serverb ~]# echo redhat | passwd --stdin dbadmin1</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Changing password for user dbadmin1.</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">passwd: all authentication tokens updated successfully.</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">[root@serverb ~]# chage -d 0 dbadmin1</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">[root@serverb ~]# chage -m 10 dbadmin1</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">[root@serverb ~]# chage -M 30 dbadmin1</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">[root@serverb ~]# visudo</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># visudo 具体操作省略</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">[root@serverb ~]# su - dbadmin1</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">[dbadmin1@serverb ~]$ echo &quot;umask 007&quot; &gt; .bashrc</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">[dbadmin1@serverb ~]$ mkdir -p /home/dbadmin1/grading/review2</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">[dbadmin1@serverb ~]$ chown -R dbadmin1:database /home/dbadmin1/grading/review2</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">[dbadmin1@serverb ~]$ chown -R dbadmin1:database /home/dbadmin1/</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">[dbadmin1@serverb ~]$ chmod -R g+x /home/dbadmin1/</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">[dbadmin1@serverb ~]$ chmod g+s /home/dbadmin1/grading/review2</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">[dbadmin1@serverb ~]$ chmod 755 /home/dbadmin1/grading/review2</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">[dbadmin1@serverb ~]$ chmod o+t /home/dbadmin1/grading/review2</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>检验操作</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">[student@workstation ~]$ lab grade rhcsa-rh124-review2</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Grading lab.</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> · Checking lab systems ................................................................................................................................................ SUCCESS</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> · Verifying termination of CPU intensive process on serverb ........................................................................................................... SUCCESS</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> · Verifying if the database group exists on serverb ................................................................................................................... SUCCESS</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> · Verifying if dbadmin1 belongs to database group on serverb .......................................................................................................... SUCCESS</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> · Verifying the password expiration for the dbadmin1 user ............................................................................................................. SUCCESS</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> · Evaluating properties of the review2 directory on serverb ........................................................................................................... FAIL</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    - Command did not exit with the expected code</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    - Expected: 0, Received: 1</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> · Evaluating the sudo configuration of dbadmin1 on serverb ............................................................................................................ SUCCESS</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> · Evaluating the umask of dbadmin1 on serverb ......................................................................................................................... SUCCESS</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Overall lab grade: FAIL</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="theme-admonition theme-admonition-warning admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>注意</div><div class="admonitionContent_BuS1"><p>有点问题，不知道目录的权限设置具体怎么操作的，已经按照教材的 exp 执行过了，还是不对</p></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="配置和管理服务器">配置和管理服务器<a href="#配置和管理服务器" class="hash-link" aria-label="配置和管理服务器的直接链接" title="配置和管理服务器的直接链接">​</a></h3>
<p>规范</p>
<ul>
<li>以 <code>student</code> 用户身份登录 <code>serverb</code></li>
<li>为 <code>student</code> 用户生成 SSH 密钥。不要使用密语对该密钥进行保护。将私钥和公钥分别保存为 <code>/home/student/.ssh/review3_key</code> 和 <code>/home/student/.ssh/review_key.pub</code> 文件</li>
<li>在 <code>servera</code> 上配置 <code>student</code> 用户，以接受通过 <code>review3_key</code>SSH 密钥对进行登录身份验证。<code>serverb</code> 上的 <code>student</code> 用户应该无需输入密码，就能使用 SSH 来登录 <code>servera</code></li>
<li>在 <code>serverb</code> 上配置 sshd 服务，以禁止 <code>root</code> 用户进行登录</li>
<li>在 <code>serverb</code> 上配置 <code>sshd</code> 服务，以禁止用户使用其密码进行登录。用户仍应能够使用 SSH 密钥对进行登录身份验证</li>
<li>创建 <code>/tmp/log.tar</code> tar 存档，其包含 <code>serverb</code> 上 <code>/var/log</code> 目录的内容。使用 <code>review3_key</code> 私钥以 <code>student</code> 用户验证身份，将 tar 存档远程传输到 <code>servera</code> 上的 <code>/tmp</code> 目录</li>
<li>配置 <code>serverb</code> 上的 <code>rsyslog</code> 服务，将所有优先级为 debug 或更高的服务记录到 <code>/var/log/grading-debug</code> 文件。在 <code>/etc/rsyslog.d/grading-debug.conf</code> 文件中定义配置。通过使用任何设备，生成优先级为 debug、且饱含 <code>Debug Testing</code> 文本的 syslog 消息</li>
<li>在 <code>serverb</code> 计算机上安装 <code>zsh</code> 软件包</li>
<li>将 <code>serverb</code> 的时区设为 <code>Asia/Kolkata</code></li>
</ul>
<p>部署环境</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">[student@workstation ~]$ lab start rhcsa-rh124-review3</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Starting lab.</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> · Checking lab systems ................................................................................................................................................ SUCCESS</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> · Installing sshpass package on serverb ............................................................................................................................... SUCCESS</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> · Backing up /etc/ssh/sshd_config on serverb .......................................................................................................................... SUCCESS</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> · Ensuring that custom log files do not exist on serverb .............................................................................................................. SUCCESS</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> · Recording pre-Lab time zone on serverb .............................................................................................................................. SUCCESS</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> · Ensuring that zsh is not installed on serverb ....................................................................................................................... SUCCESS</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>开始测验</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">[student@workstation ~]$ ssh student@serverb</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Activate the web console with: systemctl enable --now cockpit.socket</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Register this system with Red Hat Insights: insights-client --register</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Create an account or view all your systems at https://red.ht/insights-dashboard</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Last login: Sat Jun  1 03:30:01 2024 from 172.25.250.9</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">[student@serverb ~]$ ssh-keygen</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Generating public/private rsa key pair.</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Enter file in which to save the key (/home/student/.ssh/id_rsa): /home/student/.ssh/review3_key</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Created directory &#x27;/home/student/.ssh&#x27;.</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Enter passphrase (empty for no passphrase):</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Enter same passphrase again:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Your identification has been saved in /home/student/.ssh/review3_key</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Your public key has been saved in /home/student/.ssh/review3_key.pub</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">The key fingerprint is:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">SHA256:1NliMvl0wHqq4Ka4Nf9S05/YY3Vwxvo1fcUGFdCrXds student@serverb.lab.example.com</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">The key&#x27;s randomart image is:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">+---[RSA 3072]----+</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">|         ..  .ooo|</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">|         o.+  .. |</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">|        =.* o. o.|</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">|       ..*.o. +.=|</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">|       .So.  =o.*|</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">|    . o o   o..+E|</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">|  o. o o + o o .o|</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">| o o+ . . *   .  |</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">|o..o.o.  . .     |</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">+----[SHA256]-----+</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">[student@serverb ~]$ ssh-copy-id -i /home/student/.ssh/review3_key.pub student@servera</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">/usr/bin/ssh-copy-id: INFO: Source of key(s) to be installed: &quot;/home/student/.ssh/review3_key.pub&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">/usr/bin/ssh-copy-id: INFO: attempting to log in with the new key(s), to filter out any that are already installed</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">/usr/bin/ssh-copy-id: INFO: 1 key(s) remain to be installed -- if you are prompted now it is to install the new keys</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">student@servera&#x27;s password:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Number of key(s) added: 1</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Now try logging into the machine, with:   &quot;ssh&#x27;student@servera&#x27;&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">and check to make sure that only the key(s) you wanted were added.</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">[student@serverb ~]$ sudo vim /etc/ssh/sshd_config</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># sshd 服务 - root 限制登录 的配置操作部分省略</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">[student@serverb ~]$ sudo systemctl reload-or-restart sshd.service</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">[student@serverb ~]$ sudo vim /etc/ssh/sshd_config</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># sshd 服务 - 限制密码登录 的配置操作部分省略</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">[student@serverb ~]$ sudo systemctl reload-or-restart sshd.service</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">[student@serverb ~]$ sudo tar -cvf /tmp/log.tar /var/log</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">tar: Removing leading `/&#x27; from member names</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">/var/log/</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">/var/log/private/</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">/var/log/rhsm/</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">/var/log/rhsm/rhsmcertd.log</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">/var/log/rhsm/rhsm.log</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">/var/log/qemu-ga/</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">/var/log/audit/</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">/var/log/audit/audit.log</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">/var/log/sssd/</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">/var/log/sssd/sssd_kcm.log</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">/var/log/chrony/</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">/var/log/insights-client/</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">/var/log/README</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">/var/log/tallylog</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">/var/log/wtmp</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">/var/log/btmp</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">/var/log/lastlog</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">/var/log/messages</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">/var/log/secure</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">/var/log/maillog</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">/var/log/spooler</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">/var/log/tuned/</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">/var/log/tuned/tuned.log</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">/var/log/cloud-init.log</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">/var/log/cloud-init-output.log</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">/var/log/cron</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">/var/log/dnf.log</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">/var/log/dnf.librepo.log</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">/var/log/dnf.rpm.log</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">/var/log/hawkey.log</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">/var/log/kdump.log</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">/var/log/samba/</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">/var/log/samba/old/</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">/var/log/boot.log</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">/var/log/firewalld</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">[student@serverb ~]$ sftp student@servera</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">student@servera&#x27;s password:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Connected to servera.</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">sftp&gt; cd /tmp</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">sftp&gt; put /tmp/log.tar</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Uploading /tmp/log.tar to /tmp/log.tar</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">log.tar                                                                                                                                         100% 3060KB  12.2MB/s   00:00</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">sftp&gt; exit</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">[student@serverb ~]$ sudo vim /etc/rsyslog.d/grading-debug.conf</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">[student@serverb ~]$ cat /etc/rsyslog.d/grading-debug.conf</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">*.debug /var/log/grading-debug</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">[student@serverb ~]$ sudo systemctl restart rsyslog.service</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">[student@serverb ~]$ logger -p debug &quot;Debug Testing&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">[student@serverb ~]$ sudo dnf install zsh</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Last metadata expiration check: 3:12:06 ago on Sat 01 Jun 2024 06:09:06 AM EDT.</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Dependencies resolved.</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">==================================================================================================================================================================================</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> Package                          Architecture                        Version                                  Repository                                                    Size</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">==================================================================================================================================================================================</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Installing:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> zsh                              x86_64                              5.8-9.el9                                rhel-9.0-for-x86_64-baseos-rpms                              3.2 M</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Transaction Summary</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">==================================================================================================================================================================================</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Install  1 Package</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Total download size: 3.2 M</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Installed size: 7.6 M</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Is this ok [y/N]: y</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Downloading Packages:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">zsh-5.8-9.el9.x86_64.rpm                                                                                                                          9.7 MB/s | 3.2 MB     00:00</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Total                                                                                                                                             9.4 MB/s | 3.2 MB     00:00</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Running transaction check</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Transaction check succeeded.</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Running transaction test</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Transaction test succeeded.</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Running transaction</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  Preparing        :                                                                                                                                                          1/1</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  Installing       : zsh-5.8-9.el9.x86_64                                                                                                                                     1/1</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  Running scriptlet: zsh-5.8-9.el9.x86_64                                                                                                                                     1/1</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  Verifying        : zsh-5.8-9.el9.x86_64                                                                                                                                     1/1</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Installed:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  zsh-5.8-9.el9.x86_64</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Complete!</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">[student@serverb ~]$ sudo timedatectl set-timezone Asia/Kolkata</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>检验操作</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">[student@workstation ~]$ lab grade rhcsa-rh124-review3</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Grading lab.</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> · Checking lab systems ................................................................................................................................................ SUCCESS</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> · Verifying SSH keys on serverb ....................................................................................................................................... SUCCESS</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> · Evaluating root login settings on serverb ........................................................................................................................... SUCCESS</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> · Evaluating password login settings on serverb ....................................................................................................................... SUCCESS</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> · Verifying archives on servera ....................................................................................................................................... SUCCESS</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> · Verifying archives on serverb ....................................................................................................................................... SUCCESS</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> · Verifying syslog custom configuration on serverb .................................................................................................................... SUCCESS</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> · Verifying time zone on serverb ...................................................................................................................................... SUCCESS</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> · Verifying that zsh is installed ..................................................................................................................................... SUCCESS</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Overall lab grade: PASS</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="管理网络-1">管理网络<a href="#管理网络-1" class="hash-link" aria-label="管理网络的直接链接" title="管理网络的直接链接">​</a></h3>
<p>规范</p>
<ul>
<li>在 <code>serverb</code> 上，确定以太网接口名称及其活跃连接配置文件</li>
<li>在 <code>serverb</code> 上，为可用的以太网接口激活 <code>static</code> 连接配置文件。<code>static</code> 配置文件以静态形式设定网络设置，不使用 DHCP。设置 <code>static</code> 配置文件，以使用下表中的网络设置<!-- -->
<ul>
<li>IPv4 地址：172.25.250.111</li>
<li>子网掩码：255.255.255.0</li>
<li>网关：172.25.250.254</li>
<li>DNS 服务器：172.25.250.254</li>
</ul>
</li>
<li>将 <code>serverb</code> 主机名设为 <code>server-review4.lab4.example.com</code></li>
<li>在 <code>serverb</code> 上，将 <code>client-review4</code> 设为 <code>servera 172.25.250.10</code>IPv4 地址的规范主机名</li>
<li>使用额外的 IPv4 地址 <code>172.25.250.211</code> 和子网掩码 <code>255.255.255.0</code> 来配置 <code>static</code> 连接配置集。不要删除现有的 IPv4 地址。确保当 <code>static</code> 连接处于活动状态时，<code>serverb</code> 能够对所有地址做出响应</li>
<li>在 <code>serverb</code> 上，通过激活原先的网络连接配置集来恢复原先的网络设置</li>
</ul>
<p>部署环境</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">[student@workstation ~]$ lab start rhcsa-rh124-review4</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Starting lab.</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> · Checking lab systems ................................................................................................................................................ SUCCESS</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> · Backing up the original /etc/hosts file on serverb .................................................................................................................. SUCCESS</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>开始测验</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain"># 由于涉及到编辑网卡配置，所以直接通过 virsh 连接到虚拟机</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">[root@foundation0 ~]# virsh console serverb</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Connected to domain &#x27;serverb&#x27;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Escape character is ^] (Ctrl +])</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">serverb login: root</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Password:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Last login: Sat Jun  1 03:35:11 from 172.25.250.9</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">[root@serverb ~]# nmcli connection show</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">NAME                UUID                                  TYPE      DEVICE</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Wired connection 1  3968ff88-8373-3810-a63f-1cdbb896767e  ethernet  eth0</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">[root@serverb ~]# nmcli device status</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">DEVICE  TYPE      STATE      CONNECTION</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">eth0    ethernet  connected  Wired connection 1</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">lo      loopback  unmanaged  --</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">[root@serverb ~]# nmcli connection add con-name static ifname eth0 type ethernet \</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">&gt; ipv4.address 172.25.250.111/24 \</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">&gt; ipv4.gateway 172.25.250.254 \</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">&gt; ipv4.dns 172.25.250.254 \</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">&gt; ipv4.method manual</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Connection &#x27;static&#x27; (85e95b1d-cbfb-476e-bf13-32b65e77fbbd) successfully added.</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">[root@serverb ~]# nmcli connection up static</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Connection successfully activated (D-Bus active path: /org/freedesktop/NetworkManager/ActiveConnection/2)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">[root@serverb ~]# hostnamectl</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> Static hostname: serverb.lab.example.com</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">       Icon name: computer-vm</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">         Chassis: vm 🖴</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      Machine ID: 3c373df75dc447cdb08f9cca704a8aa6</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">         Boot ID: 30bcf7fdf85d41ed9cef6eac99eb54c6</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  Virtualization: kvm</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Operating System: Red Hat Enterprise Linux 9.0 (Plow)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">     CPE OS Name: cpe:/o:redhat:enterprise_linux:9::baseos</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">          Kernel: Linux 5.14.0-70.13.1.el9_0.x86_64</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    Architecture: x86-64</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> Hardware Vendor: Red Hat</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  Hardware Model: KVM</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">[root@serverb ~]# hostnamectl set-hostname server-review4.lab4.example.com</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">[root@serverb ~]# echo &quot;172.25.250.10 client-review4&quot; &gt;&gt; /etc/hosts</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">[root@serverb ~]# nmcli connection modify static \</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">&gt; +ipv4.address 172.25.250.211/24</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">[root@serverb ~]# nmcli connection up static</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Connection successfully activated (D-Bus active path: /org/freedesktop/NetworkManager/ActiveConnection/3)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">[root@serverb ~]# nmcli device status</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">DEVICE  TYPE      STATE      CONNECTION</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">eth0    ethernet  connected  static</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">lo      loopback  unmanaged  --</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">[root@serverb ~]# nmcli connection up &quot;Wired connection 1&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Connection successfully activated (D-Bus active path: /org/freedesktop/NetworkManager/ActiveConnection/4)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">[root@serverb ~]# nmcli device status</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">DEVICE  TYPE      STATE      CONNECTION</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">eth0    ethernet  connected  Wired connection 1</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">lo      loopback  unmanaged  --</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>检验操作</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">[student@workstation ~]$ lab grade rhcsa-rh124-review4</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Grading lab.</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> · Checking lab systems ................................................................................................................................................ SUCCESS</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> · Verifying the static connection on serverb .......................................................................................................................... SUCCESS</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> · Verifying DNS on serverb ............................................................................................................................................ SUCCESS</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> · Verifying new IP adresses on serverb ................................................................................................................................ SUCCESS</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> · Verifying the canonical name on serverb ............................................................................................................................. SUCCESS</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> · Verifying the hostname on serverb ................................................................................................................................... SUCCESS</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Overall lab grade: PASS</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代  码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="挂载文件系统和查找文件">挂载文件系统和查找文件<a href="#挂载文件系统和查找文件" class="hash-link" aria-label="挂载文件系统和查找文件的直接链接" title="挂载文件系统和查找文件的直接链接">​</a></h3>
<p>规范</p>
<ul>
<li>以 <code>student</code> 用户身份登录 <code>serverb</code>，并切换到 <code>root</code> 用户</li>
<li>识别 <code>serverb</code> 计算机上包含 XFS 文件系统的已卸载块设备。将块设备挂载到 <code>/review5-disk</code> 目录</li>
<li>查找 <code>review5-path</code> 文件。创建 <code>/review5-disk/review5-path.txt</code> 文件，它应包含由 <code>review5-path</code> 文件的绝对路径组成的一行内容</li>
<li>查找 <code>contractor1</code> 用户和 <code>contractor</code> 组拥有的所有文件。这些文件还必须具有八进制权限 640。将这些文件的列表保存到 <code>/review5-disk/review5-perms.txt</code> 文件</li>
<li>查找大小为 100 字节的所有文件。将这些文件的绝对路径保存到 <code>/review5-disk/review5-size.txt</code></li>
</ul>
<p>部署环境</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">[student@workstation ~]$ lab start rhcsa-rh124-review5</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Starting lab.</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> · Checking lab systems ................................................................................................................................................ SUCCESS</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> · Creating a filesystem on serverb .................................................................................................................................... SUCCESS</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> · Creating required user contractor1 on serverb ....................................................................................................................... SUCCESS</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> · Creating contractor group on serverb ................................................................................................................................ SUCCESS</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> · Creating first file on serverb ...................................................................................................................................... SUCCESS</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> · Creating second file on serverb ..................................................................................................................................... SUCCESS</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> · Changing second file owner and group on serverb ..................................................................................................................... SUCCESS</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> · Changing second file permissions on serverb ......................................................................................................................... SUCCESS</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> · Creating third file on serverb ...................................................................................................................................... SUCCESS</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>开始测验</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">[student@workstation ~]$ ssh student@serverb</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Activate the web console with: systemctl enable --now cockpit.socket</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Register this system with Red Hat Insights: insights-client --register</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Create an account or view all your systems at https://red.ht/insights-dashboard</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Last login: Sat Jun  1 10:04:26 2024 from 172.25.250.9</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">[student@serverb ~]$ sudo -i</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">[sudo] password for student: </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">[root@serverb ~]# lsblk -fs</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">NAME  FSTYPE FSVER LABEL UUID                                 FSAVAIL FSUSE% MOUNTPOINTS</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">vda1                                                                         </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">└─vda                                                                        </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">vda2  vfat   FAT16       7B77-95E7                             192.8M     3% /boot/efi</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">└─vda                                                                        </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">vda3  xfs          boot  5e75a2b9-1367-4cc8-bb38-4d6abc3964b8  334.7M    32% /boot</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">└─vda                                                                        </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">vda4  xfs          root  fb535add-9799-4a27-b8bc-e8259f39a767    7.6G    18% /</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">└─vda                                                                        </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">vdb1  xfs                d08c8564-3889-4900-bd08-ae66153992ca                </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">└─vdb                                                                        </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">vdc                                                                          </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">vdd   </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">[root@serverb ~]# mkdir /review5-disk</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">[root@serverb ~]# mount /dev/vdb1 /review5-disk</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">[root@serverb ~]# find / -name review5-path</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">/var/tmp/review5-path</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">[root@serverb ~]# find / -name review5-path &gt; /review5-disk/review5-path.txt</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">[root@serverb ~]# find / -user contractor1 -group contractor -perm 640</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">find: ‘/proc/33685/task/33685/fd/5’: No such file or directory</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">find: ‘/proc/33685/task/33685/fdinfo/5’: No such file or directory</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">find: ‘/proc/33685/fd/6’: No such file or directory</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">find: ‘/proc/33685/fdinfo/6’: No such file or directory</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">/usr/share/review5-perms</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">[root@serverb ~]# find / -user contractor1 -group contractor -perm 640 &gt; /review5-disk/review5-perms.txt</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">find: ‘/proc/33687/task/33687/fd/5’: No such file or directory</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">find: ‘/proc/33687/task/33687/fdinfo/5’: No such file or directory</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">find: ‘/proc/33687/fd/6’: No such file or directory</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">find: ‘/proc/33687/fdinfo/6’: No such file or directory</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">[root@serverb ~]# find / -size 100c &gt; /review5-disk/review5-size.txt</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>检验操作</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">[student@workstation ~]$ lab grade rhcsa-rh124-review5</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Grading lab.</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> · Checking lab systems ................................................................................................................................................ SUCCESS</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> · Confirming if /review5-disk is mounted on serverb ................................................................................................................... SUCCESS</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> · Evaluating the first file content on serverb ........................................................................................................................ SUCCESS</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> · Evaluating the second file content on serverb ....................................................................................................................... SUCCESS</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> · Evaluating the third file content on serverb ........................................................................................................................ SUCCESS</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Overall lab grade: PASS</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/Randark-JMT/Treasure-House/edit/main/docs/Certificate/RHCSA/RH124/index.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>编辑此页</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="文件选项卡"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/Certificate/RHCSA/"><div class="pagination-nav__sublabel">上一页</div><div class="pagination-nav__label">RHCSA</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/Certificate/RHCSA/RH134/"><div class="pagination-nav__sublabel">下一页</div><div class="pagination-nav__label">RH134</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#环境初始化" class="table-of-contents__link toc-highlight">环境初始化</a></li><li><a href="#红帽企业-linux-入门" class="table-of-contents__link toc-highlight">红帽企业 Linux 入门</a><ul><li><a href="#什么是-linux" class="table-of-contents__link toc-highlight">什么是 Linux？</a></li><li><a href="#总结" class="table-of-contents__link toc-highlight">总结</a></li></ul></li><li><a href="#访问命令行" class="table-of-contents__link toc-highlight">访问命令行</a><ul><li><a href="#访问命令行-1" class="table-of-contents__link toc-highlight">访问命令行</a></li><li><a href="#使用桌面访问命令行" class="table-of-contents__link toc-highlight">使用桌面访问命令行</a></li><li><a href="#使用-bash-shell-执行命令" class="table-of-contents__link toc-highlight">使用 Bash Shell 执行命令</a></li><li><a href="#总结-1" class="table-of-contents__link toc-highlight">总结</a></li></ul></li><li><a href="#使用命令行管理文件" class="table-of-contents__link toc-highlight">使用命令行管理文件</a><ul><li><a href="#描述-linux-文件系统层次结构概念" class="table-of-contents__link toc-highlight">描述 Linux 文件系统层次结构概念</a></li><li><a href="#通过名称指定文件" class="table-of-contents__link toc-highlight">通过名称指定文件</a></li><li><a href="#使用命令行工具管理文件" class="table-of-contents__link toc-highlight">使用命令行工具管理文件</a></li><li><a href="#制作文件间的链接" class="table-of-contents__link toc-highlight">制作文件间的链接</a></li><li><a href="#使用-shell-扩展匹配文件名" class="table-of-contents__link toc-highlight">使用 Shell 扩展匹配文件名</a></li><li><a href="#总结-2" class="table-of-contents__link toc-highlight">总结</a></li></ul></li><li><a href="#获取有关红帽企业-linux-的帮助" class="table-of-contents__link toc-highlight">获取有关红帽企业 Linux 的帮助</a><ul><li><a href="#阅读手册页" class="table-of-contents__link toc-highlight">阅读手册页</a></li><li><a href="#总结-3" class="table-of-contents__link toc-highlight">总结</a></li></ul></li><li><a href="#创建查看和编辑文本文件" class="table-of-contents__link toc-highlight">创建、查看和编辑文本文件</a><ul><li><a href="#将输出重定向到文本或程序" class="table-of-contents__link toc-highlight">将输出重定向到文本或程序</a></li><li><a href="#从-shell-提示符编辑文本文件" class="table-of-contents__link toc-highlight">从 shell 提示符编辑文本文件</a></li><li><a href="#更改-shell-环境" class="table-of-contents__link toc-highlight">更改 shell 环境</a></li><li><a href="#总结-4" class="table-of-contents__link toc-highlight">总结</a></li></ul></li><li><a href="#管理本地用户和群组" class="table-of-contents__link toc-highlight">管理本地用户和群组</a><ul><li><a href="#描述用户和组概念" class="table-of-contents__link toc-highlight">描述用户和组概念</a></li><li><a href="#获取超级用户访问权限" class="table-of-contents__link toc-highlight">获取超级用户访问权限</a></li><li><a href="#管理本地用户账户" class="table-of-contents__link toc-highlight">管理本地用户账户</a></li><li><a href="#管理本地组账户" class="table-of-contents__link toc-highlight">管理本地组账户</a></li><li><a href="#管理用户密码" class="table-of-contents__link toc-highlight">管理用户密码</a></li><li><a href="#总结-5" class="table-of-contents__link toc-highlight">总结</a></li></ul></li><li><a href="#控制文件访问权限" class="table-of-contents__link toc-highlight">控制文件访问权限</a><ul><li><a href="#解释-linux-文件系统权限" class="table-of-contents__link toc-highlight">解释 Linux 文件系统权限</a></li><li><a href="#从命令行管理文件系统权限" class="table-of-contents__link toc-highlight">从命令行管理文件系统权限</a></li><li><a href="#管理默认权限和文件访问" class="table-of-contents__link toc-highlight">管理默认权限和文件访问</a></li><li><a href="#总结-6" class="table-of-contents__link toc-highlight">总结</a></li></ul></li><li><a href="#监控和管理-linux-进程" class="table-of-contents__link toc-highlight">监控和管理 Linux 进程</a><ul><li><a href="#进程状态和生命周期" class="table-of-contents__link toc-highlight">进程状态和生命周期</a></li><li><a href="#控制作业" class="table-of-contents__link toc-highlight">控制作业</a></li><li><a href="#中止进程" class="table-of-contents__link toc-highlight">中止进程</a></li><li><a href="#监控进程活动" class="table-of-contents__link toc-highlight">监控进程活动</a></li><li><a href="#总结-7" class="table-of-contents__link toc-highlight">总结</a></li></ul></li><li><a href="#控制服务和守护进程" class="table-of-contents__link toc-highlight">控制服务和守护进程</a><ul><li><a href="#识别自动启动的系统进程" class="table-of-contents__link toc-highlight">识别自动启动的系统进程</a></li><li><a href="#控制系统服务" class="table-of-contents__link toc-highlight">控制系统服务</a></li><li><a href="#总结-8" class="table-of-contents__link toc-highlight">总结</a></li></ul></li><li><a href="#配置-ssh-并确保其安全性" class="table-of-contents__link toc-highlight">配置 SSH 并确保其安全性</a><ul><li><a href="#使用-ssh-访问远程命令行" class="table-of-contents__link toc-highlight">使用 SSH 访问远程命令行</a></li><li><a href="#配置基于-ssh- 密钥的身份验证" class="table-of-contents__link toc-highlight">配置基于 SSH 密钥的身份验证</a></li><li><a href="#自定义-openssh-服务配置" class="table-of-contents__link toc-highlight">自定义 OpenSSH 服务配置</a></li><li><a href="#总结-9" class="table-of-contents__link toc-highlight">总结</a></li></ul></li><li><a href="#分析和存储日志" class="table-of-contents__link toc-highlight">分析和存储日志</a><ul><li><a href="#描述系统日志架构" class="table-of-contents__link toc-highlight">描述系统日志架构</a></li><li><a href="#查看-syslog-文件" class="table-of-contents__link toc-highlight">查看 Syslog 文件</a></li><li><a href="#查看系统日志条目" class="table-of-contents__link toc-highlight">查看系统日志条目</a></li><li><a href="#保留系统日志" class="table-of-contents__link toc-highlight">保留系统日志</a></li><li><a href="#维护准确的时间" class="table-of-contents__link toc-highlight">维护准确的时间</a></li><li><a href="#总结-10" class="table-of-contents__link toc-highlight">总结</a></li></ul></li><li><a href="#管理网络" class="table-of-contents__link toc-highlight">管理网络</a><ul><li><a href="#描述网络概念" class="table-of-contents__link toc-highlight">描述网络概念</a></li><li><a href="#验证网络配置" class="table-of-contents__link toc-highlight">验证网络配置</a></li><li><a href="#从命令行配置网络" class="table-of-contents__link toc-highlight">从命令行配置网络</a></li><li><a href="#编辑网络配置文件" class="table-of-contents__link toc-highlight">编辑网络配置文件</a></li><li><a href="#配置主机名和名称解析" class="table-of-contents__link toc-highlight">配置主机名和名称解析</a></li><li><a href="#总结-11" class="table-of-contents__link toc-highlight">总结</a></li></ul></li><li><a href="#归档和传输文件" class="table-of-contents__link toc-highlight">归档和传输文件</a><ul><li><a href="#管理压缩的-tar-存档" class="table-of-contents__link toc-highlight">管理压缩的 tar 存档</a></li><li><a href="#在系统之间安全地传输文件" class="table-of-contents__link toc-highlight">在系统之间安全地传输文件</a></li><li><a href="#在系统之间安全地同步文件" class="table-of-contents__link toc-highlight">在系统之间安全地同步文件</a></li><li><a href="#总结-12" class="table-of-contents__link toc-highlight">总结</a></li></ul></li><li><a href="#安装和更新软件包" class="table-of-contents__link toc-highlight">安装和更新软件包</a><ul><li><a href="#注册系统以获取红帽支持" class="table-of-contents__link toc-highlight">注册系统以获取红帽支持</a></li><li><a href="#解释和调查-rpm-软件包" class="table-of-contents__link toc-highlight">解释和调查 RPM 软件包</a></li><li><a href="#使用-dnf-安装和更新软件包" class="table-of-contents__link toc-highlight">使用 DNF 安装和更新软件包</a></li><li><a href="#启用-dnf-软件储存库" class="table-of-contents__link toc-highlight">启用 DNF 软件储存库</a></li><li><a href="#总结-13" class="table-of-contents__link toc-highlight">总结</a></li></ul></li><li><a href="#访问-linux-文件系统" class="table-of-contents__link toc-highlight">访问 Linux 文件系统</a><ul><li><a href="#识别文件系统和设备" class="table-of-contents__link toc-highlight">识别文件系统和设备</a></li><li><a href="#挂载和卸载文件系统" class="table-of-contents__link toc-highlight">挂载和卸载文件系统</a></li><li><a href="#查找系统上的文件" class="table-of-contents__link toc-highlight">查找系统上的文件</a></li><li><a href="#总结-14" class="table-of-contents__link toc-highlight">总结</a></li></ul></li><li><a href="#分析服务器和获取支持" class="table-of-contents__link toc-highlight">分析服务器和获取支持</a><ul><li><a href="#总结-15" class="table-of-contents__link toc-highlight">总结</a></li></ul></li><li><a href="#综合复习" class="table-of-contents__link toc-highlight">综合复习</a><ul><li><a href="#从命令行管理文件" class="table-of-contents__link toc-highlight">从命令行管理文件</a></li><li><a href="#管理用户和组权限以及进程" class="table-of-contents__link toc-highlight">管理用户和组、权限以及进程</a></li><li><a href="#配置和管理服务器" class="table-of-contents__link toc-highlight">配置和管理服务器</a></li><li><a href="#管理网络-1" class="table-of-contents__link toc-highlight">管理网络</a></li><li><a href="#挂载文件系统和查找文件" class="table-of-contents__link toc-highlight">挂载文件系统和查找文件</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">社交联系</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/Randark-JMT" target="_blank" rel="noopener noreferrer" class="footer__link-item">Github<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://twitter.com/Randark_JMT" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="mailto:randark@foxmail.com" target="_blank" rel="noopener noreferrer" class="footer__link-item">Foxmail mail<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="mailto:randarkjmt@gmail.com" target="_blank" rel="noopener noreferrer" class="footer__link-item">Google mail<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">相关项目友链</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/CTF-Archives" target="_blank" rel="noopener noreferrer" class="footer__link-item">Github - CTF-Archives<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/CTF-Archives/ctf-docker-template" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub - ctf-docker-template<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/ProbiusOfficial/Hello-CTF" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub - Hello-CTF<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://blog.probius.xyz/" target="_blank" rel="noopener noreferrer" class="footer__link-item">探姬の星灵枢纽<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="http://www.snowywar.top" target="_blank" rel="noopener noreferrer" class="footer__link-item">雪殇 - snowywar.top<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2024 Treasure-House By Randark-JMT, Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>