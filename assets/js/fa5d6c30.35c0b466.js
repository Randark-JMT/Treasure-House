"use strict";(self.webpackChunktreasure_house=self.webpackChunktreasure_house||[]).push([[8115],{1206:(e,s,n)=>{n.d(s,{A:()=>a});const a=n.p+"assets/images/image_20251015-211531-37db2a1dad46c622cebf643cbca84cdc.png"},1685:(e,s,n)=>{n.d(s,{A:()=>a});const a=n.p+"assets/images/image_20251017-211754-5af8ae72980c06b8af0fd44f098e784e.png"},1741:(e,s,n)=>{n.d(s,{A:()=>a});const a=n.p+"assets/images/image_20251051-215129-c464c4d4c6fbe5872f18c9b90a70c5db.png"},1900:(e,s,n)=>{n.d(s,{A:()=>a});const a=n.p+"assets/images/image_20251043-214353-f5909a0fee9c67bd99b512a39ab22bf8.png"},2192:(e,s,n)=>{n.d(s,{A:()=>a});const a=n.p+"assets/images/image_20251031-213133-3a0c8889357a0f5d2e32dc40a8876a88.png"},2398:(e,s,n)=>{n.d(s,{A:()=>a});const a=n.p+"assets/images/image_20251043-214324-6aef1faa5c9d2c8e8d827dde5fb14ca7.png"},2648:e=>{e.exports=JSON.parse('{"permalink":"/blog/2025-10-21-Deploy-Elastic-SIEM","editUrl":"https://github.com/Randark-JMT/Treasure-House/edit/main/blog/2025-10-21-Deploy-Elastic-SIEM/index.md","source":"@site/blog/2025-10-21-Deploy-Elastic-SIEM/index.md","title":"\u90e8\u7f72 Elastic SIEM","description":"\u672c\u6587\u7ae0\u4ecb\u7ecd Elastic SIEM \u5e73\u53f0\u90e8\u7f72\u4e0e\u4f7f\u7528","date":"2025-10-21T00:00:00.000Z","tags":[],"readingTime":6.69,"hasTruncateMarker":true,"authors":[{"name":"\u9648\u6a58mo","title":"Why So Serious?","url":"https://randark.site","imageURL":"https://randark.site/img/logo.jpg","key":"Randark","page":null}],"frontMatter":{"slug":"2025-10-21-Deploy-Elastic-SIEM","title":"\u90e8\u7f72 Elastic SIEM","authors":"Randark","tags":[]},"unlisted":false,"nextItem":{"title":"Viper Docker \u955c\u50cf\u5206\u6790","permalink":"/blog/2025-10-02-VIper-Docker-Image-Analysis"}}')},3222:(e,s,n)=>{n.d(s,{A:()=>a});const a=n.p+"assets/images/image_20251057-215704-8ffc42e0988c1ebf7c800d1aebcc371a.png"},4872:(e,s,n)=>{n.d(s,{A:()=>a});const a=n.p+"assets/images/image_20251032-213235-4992242be2b35026404cfd1b85c15356.png"},5385:(e,s,n)=>{n.d(s,{A:()=>a});const a=n.p+"assets/images/image_20251048-214847-1445334ac05bb62ff9da6803e762bd59.png"},5428:(e,s,n)=>{n.d(s,{A:()=>a});const a=n.p+"assets/images/image_20251013-211355-09f8a924f1243b3969a9e33b1478307d.png"},5904:(e,s,n)=>{n.d(s,{A:()=>a});const a=n.p+"assets/images/image_20251033-213311-f1c1d643549bc4c63ea12655e6ae8ec5.png"},7379:(e,s,n)=>{n.d(s,{A:()=>a});const a=n.p+"assets/images/image_20251017-211701-5003291064564c1391687106060955bf.png"},8453:(e,s,n)=>{n.d(s,{R:()=>t,x:()=>r});var a=n(6540);const c={},i=a.createContext(c);function t(e){const s=a.useContext(i);return a.useMemo(function(){return"function"==typeof e?e(s):{...s,...e}},[s,e])}function r(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(c):e.components||c:t(e.components),a.createElement(i.Provider,{value:s},e.children)}},8792:(e,s,n)=>{n.d(s,{A:()=>a});const a=n.p+"assets/images/image_20251011-211106-f9775937e866f991ce43f2809ea2af7d.png"},8890:(e,s,n)=>{n.d(s,{A:()=>a});const a=n.p+"assets/images/image_20251033-213348-73daaefb7ec496a23b89b958e13cc5a7.png"},8911:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>l,contentTitle:()=>r,default:()=>h,frontMatter:()=>t,metadata:()=>a,toc:()=>d});var a=n(2648),c=n(4848),i=n(8453);const t={slug:"2025-10-21-Deploy-Elastic-SIEM",title:"\u90e8\u7f72 Elastic SIEM",authors:"Randark",tags:[]},r=void 0,l={authorsImageUrls:[void 0]},d=[{value:"\u5b89\u88c5 Elasticsearch",id:"\u5b89\u88c5-elasticsearch",level:2},{value:"\u542f\u52a8 Elasticsearch \u670d\u52a1",id:"\u542f\u52a8-elasticsearch-\u670d\u52a1",level:2},{value:"\u5b89\u88c5 Kibana",id:"\u5b89\u88c5-kibana",level:2},{value:"\u8fde\u63a5 Kibana \u4e0e Elasticsearch",id:"\u8fde\u63a5-kibana-\u4e0e-elasticsearch",level:2},{value:"\u7834\u89e3 Elasticsearch",id:"\u7834\u89e3-elasticsearch",level:2},{value:"\u90e8\u7f72 Fleet \u670d\u52a1\u5668",id:"\u90e8\u7f72-fleet-\u670d\u52a1\u5668",level:2}];function o(e){const s={a:"a",admonition:"admonition",code:"code",h2:"h2",img:"img",p:"p",pre:"pre",...(0,i.R)(),...e.components};return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(s.p,{children:"\u672c\u6587\u7ae0\u4ecb\u7ecd Elastic SIEM \u5e73\u53f0\u90e8\u7f72\u4e0e\u4f7f\u7528"}),"\n",(0,c.jsxs)(s.p,{children:["\u672c\u6587\u57fa\u4e8e ",(0,c.jsx)(s.code,{children:"Ubuntu Server 24.04.3"})," \u8fdb\u884c\u90e8\u7f72\uff0c\u6027\u80fd\u4e3a ",(0,c.jsx)(s.code,{children:"4h4g"})]}),"\n",(0,c.jsx)(s.pre,{children:(0,c.jsx)(s.code,{className:"language-shell",children:"randark@elastic-server:~$ lsb_release -a\nNo LSB modules are available.\nDistributor ID: Ubuntu\nDescription:    Ubuntu 24.04.3 LTS\nRelease:        24.04\nCodename:       noble\nrandark@elastic-server:~$ ifconfig \nens33: flags=4163<UP,BROADCAST,RUNNING,MULTICAST>  mtu 1500\n        inet 192.168.200.200  netmask 255.255.255.0  broadcast 192.168.200.255\n        inet6 fe80::20c:29ff:fee5:696e  prefixlen 64  scopeid 0x20<link>\n        ether 00:0c:29:e5:69:6e  txqueuelen 1000  (Ethernet)\n        RX packets 956  bytes 615902 (615.9 KB)\n        RX errors 0  dropped 0  overruns 0  frame 0\n        TX packets 517  bytes 106942 (106.9 KB)\n        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0\n\nlo: flags=73<UP,LOOPBACK,RUNNING>  mtu 65536\n        inet 127.0.0.1  netmask 255.0.0.0\n        inet6 ::1  prefixlen 128  scopeid 0x10<host>\n        loop  txqueuelen 1000  (Local Loopback)\n        RX packets 106  bytes 9093 (9.0 KB)\n        RX errors 0  dropped 0  overruns 0  frame 0\n        TX packets 106  bytes 9093 (9.0 KB)\n        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0\n"})}),"\n",(0,c.jsx)(s.h2,{id:"\u5b89\u88c5-elasticsearch",children:"\u5b89\u88c5 Elasticsearch"}),"\n",(0,c.jsxs)(s.p,{children:["\u4f7f\u7528 ",(0,c.jsx)(s.code,{children:"apt"})," \u8fdb\u884c\u5b89\u88c5\uff0c\u9996\u5148\u662f\u5bfc\u5165 Elastic \u7684 PGP \u516c\u94a5"]}),"\n",(0,c.jsx)(s.pre,{children:(0,c.jsx)(s.code,{className:"language-shell",children:"wget -qO - https://artifacts.elastic.co/GPG-KEY-elasticsearch | sudo gpg --dearmor -o /usr/share/keyrings/elasticsearch-keyring.gpg\n"})}),"\n",(0,c.jsx)(s.p,{children:"\u7136\u540e\u5b89\u88c5 Elasticsearch APT \u50a8\u5b58\u5e93"}),"\n",(0,c.jsx)(s.pre,{children:(0,c.jsx)(s.code,{className:"language-shell",children:'sudo apt-get install apt-transport-https\necho "deb [signed-by=/usr/share/keyrings/elasticsearch-keyring.gpg] https://artifacts.elastic.co/packages/9.x/apt stable main" | sudo tee /etc/apt/sources.list.d/elastic-9.x.list\n'})}),"\n",(0,c.jsx)(s.p,{children:"\u968f\u540e\u6267\u884c\u5b89\u88c5"}),"\n",(0,c.jsx)(s.pre,{children:(0,c.jsx)(s.code,{className:"language-shell",children:"sudo apt-get update && sudo apt-get install elasticsearch\n"})}),"\n",(0,c.jsx)(s.p,{children:"\u5b89\u88c5\u6210\u529f\u4e4b\u540e\uff0c\u5e94\u8be5\u80fd\u591f\u770b\u5230\u4ee5\u4e0b\u63d0\u793a"}),"\n",(0,c.jsx)(s.pre,{children:(0,c.jsx)(s.code,{className:"language-plaintext",children:"--------------------------- Security autoconfiguration information ------------------------------\n\nAuthentication and authorization are enabled.\nTLS for the transport and HTTP layers is enabled and configured.\n\nThe generated password for the elastic built-in superuser is : BPhrFCKVYI19oksc1igb\n\nIf this node should join an existing cluster, you can reconfigure this with\n'/usr/share/elasticsearch/bin/elasticsearch-reconfigure-node --enrollment-token <token-here>'\nafter creating an enrollment token on your existing cluster.\n\nYou can complete the following actions at any time:\n\nReset the password of the elastic built-in superuser with \n'/usr/share/elasticsearch/bin/elasticsearch-reset-password -u elastic'.\n\nGenerate an enrollment token for Kibana instances with \n '/usr/share/elasticsearch/bin/elasticsearch-create-enrollment-token -s kibana'.\n\nGenerate an enrollment token for Elasticsearch nodes with \n'/usr/share/elasticsearch/bin/elasticsearch-create-enrollment-token -s node'.\n\n-------------------------------------------------------------------------------------------------\n### NOT starting on installation, please execute the following statements to configure elasticsearch service to start automatically using systemd\n sudo systemctl daemon-reload\n sudo systemctl enable elasticsearch.service\n### You can start elasticsearch service by executing\n sudo systemctl start elasticsearch.service\n"})}),"\n",(0,c.jsx)(s.admonition,{type:"warning",children:(0,c.jsx)(s.p,{children:"\u9700\u8981\u59a5\u5584\u4fdd\u5b58\u4ee5\u4e0a\u4fe1\u606f\uff0c\u5c24\u5176\u662f\u9ed8\u8ba4\u7684 elastic \u8d85\u7ea7\u7528\u6237\u7684\u5bc6\u7801"})}),"\n",(0,c.jsxs)(s.p,{children:["\u672c\u6587\u7ae0\u914d\u7f6e\u7684\u662f\u6d4b\u8bd5\u7528\u7684\u5355\u673a\u8282\u70b9\uff0c\u6240\u4ee5\u4e0d\u9700\u8981\u8fdb\u4e00\u6b65\u4fee\u6539\uff0c\u4f46\u662f\u5982\u679c\u9700\u8981\u90e8\u7f72\u591a\u8282\u70b9\u96c6\u7fa4\u7684\u8bdd\uff0c\u9700\u8981\u6309\u7167 ",(0,c.jsx)(s.a,{href:"https://www.elastic.co/docs/deploy-manage/deploy/self-managed/install-elasticsearch-with-debian-package#step-3-set-up-the-node-for-connectivity",children:"Install Elasticsearch with a Debian package | Elastic Docs - Step 3: Set up the node for connectivity"})," \u4e2d\u7684\u8bf4\u660e\uff0c\u4fee\u6539\u5bf9\u5e94\u53c2\u6570"]}),"\n",(0,c.jsx)(s.h2,{id:"\u542f\u52a8-elasticsearch-\u670d\u52a1",children:"\u542f\u52a8 Elasticsearch \u670d\u52a1"}),"\n",(0,c.jsx)(s.pre,{children:(0,c.jsx)(s.code,{className:"language-shell",children:"sudo systemctl daemon-reload\nsudo systemctl enable elasticsearch.service\nsudo systemctl start elasticsearch.service\n"})}),"\n",(0,c.jsx)(s.p,{children:"\u5f53\u670d\u52a1\u542f\u52a8\u5b8c\u6bd5\u4e4b\u540e\uff0c\u6d4b\u8bd5\u670d\u52a1"}),"\n",(0,c.jsx)(s.pre,{children:(0,c.jsx)(s.code,{className:"language-shell",children:"curl -k -u elastic:BPhrFCKVYI19oksc1igb https://localhost:9200/\n"})}),"\n",(0,c.jsx)(s.admonition,{type:"warning",children:(0,c.jsx)(s.p,{children:"\u8fd9\u91cc\u4f7f\u7528\u7684\u5bc6\u7801\uff0c\u5c31\u662f\u5b89\u88c5\u4e4b\u540e\uff0c\u5728\u63d0\u793a\u4fe1\u606f\u4e2d\u663e\u793a\u7684\u521d\u59cb\u5bc6\u7801"})}),"\n",(0,c.jsx)(s.p,{children:"\u6ca1\u6709\u95ee\u9898\u7684\u8bdd\uff0c\u5e94\u5f53\u80fd\u591f\u770b\u5230"}),"\n",(0,c.jsx)(s.pre,{children:(0,c.jsx)(s.code,{className:"language-json",metastring:'title="curl -k -u elastic:BPhrFCKVYI19oksc1igb https://localhost:9200/"',children:'{\n    "name" : "elastic-server",\n    "cluster_name" : "elasticsearch",\n    "cluster_uuid" : "MxT9jeipSSe_vc1EPQq2yg",\n    "version" : {\n        "number" : "9.1.5",\n        "build_flavor" : "default",\n        "build_type" : "deb",\n        "build_hash" : "90ee222e7e0136dd8ddbb34015538f3a00c129b7",\n        "build_date" : "2025-10-02T22:07:12.966975992Z",\n        "build_snapshot" : false,\n        "lucene_version" : "10.2.2",\n        "minimum_wire_compatibility_version" : "8.19.0",\n        "minimum_index_compatibility_version" : "8.0.0"\n    },\n    "tagline" : "You Know, for Search"\n}\n'})}),"\n",(0,c.jsx)(s.h2,{id:"\u5b89\u88c5-kibana",children:"\u5b89\u88c5 Kibana"}),"\n",(0,c.jsx)(s.p,{children:"\u6267\u884c"}),"\n",(0,c.jsx)(s.pre,{children:(0,c.jsx)(s.code,{className:"language-shell",children:"sudo apt-get update && sudo apt-get install kibana\n"})}),"\n",(0,c.jsxs)(s.p,{children:["\u4e3a\u4e86\u8ba9\u5916\u90e8\u7f51\u7edc\u53ef\u4ee5\u8bbf\u95ee Kibana \u9700\u8981\u66f4\u6539 ",(0,c.jsx)(s.code,{children:"/etc/kibana/kibana.yml"})," \u6587\u4ef6\uff0c\u5728\u5176\u4e2d\u7f16\u8f91"]}),"\n",(0,c.jsx)(s.pre,{children:(0,c.jsx)(s.code,{className:"language-yml",children:"server.host: 0.0.0.0\n"})}),"\n",(0,c.jsx)(s.p,{children:"\u7531\u4e8e\u662f\u5355\u673a\u6d4b\u8bd5\u96c6\u7fa4\uff0c\u53ef\u4ee5\u76f4\u63a5\u542f\u52a8 Kibana"}),"\n",(0,c.jsx)(s.pre,{children:(0,c.jsx)(s.code,{className:"language-shell",children:"sudo systemctl daemon-reload\nsudo systemctl enable kibana.service\nsudo systemctl start kibana.service\n"})}),"\n",(0,c.jsxs)(s.p,{children:["\u7a0d\u7b49\u7247\u523b\uff0c\u8bbf\u95ee ",(0,c.jsx)(s.code,{children:"http://192.168.200.200:5601/"})," \u5e94\u5f53\u80fd\u591f\u770b\u5230"]}),"\n",(0,c.jsx)(s.p,{children:(0,c.jsx)(s.img,{alt:"img",src:n(8792).A+"",width:"2560",height:"1371"})}),"\n",(0,c.jsx)(s.h2,{id:"\u8fde\u63a5-kibana-\u4e0e-elasticsearch",children:"\u8fde\u63a5 Kibana \u4e0e Elasticsearch"}),"\n",(0,c.jsx)(s.p,{children:"\u770b\u5230 Kibana \u521d\u59cb\u5316\u754c\u9762\u4e4b\u540e\uff0c\u6839\u636e\u5f15\u5bfc\uff0c\u6267\u884c"}),"\n",(0,c.jsx)(s.pre,{children:(0,c.jsx)(s.code,{className:"language-shell",children:"sudo /usr/share/elasticsearch/bin/elasticsearch-create-enrollment-token --scope kibana\n"})}),"\n",(0,c.jsx)(s.p,{children:"\u670d\u52a1\u6ca1\u6709\u95ee\u9898\u7684\u8bdd\uff0c\u5e94\u5f53\u80fd\u591f\u770b\u5230\u7c7b\u4f3c"}),"\n",(0,c.jsx)(s.pre,{children:(0,c.jsx)(s.code,{className:"language-shell",children:"randark@elastic-server:~$ sudo /usr/share/elasticsearch/bin/elasticsearch-create-enrollment-token --scope kibana\neyJ2ZXIiOiI4LjE0LjAiLCJhZHIiOlsiMTkyLjE2OC4yMDAuMjAwOjkyMDAiXSwiZmdyIjoiZmE0NWZkNWU0OTg1MzY1MjkzYjU1Yjc2MWViZDkzYjZjM2M3NDYzMTEyMzE0NDFiMjc0NzY4ZmI0MWRmMmY3NyIsImtleSI6Ikw3NE5ESm9COWU5b1EtRWJPRkZnOi1QOWNLT2hVZ2diTWZvdTcwQVZxcWcifQ==\n"})}),"\n",(0,c.jsx)(s.p,{children:"\u5c06\u83b7\u5f97\u7684 token \u8f93\u5165\uff0c\u5e94\u5f53\u80fd\u591f\u770b\u5230"}),"\n",(0,c.jsx)(s.p,{children:(0,c.jsx)(s.img,{alt:"img",src:n(5428).A+"",width:"2560",height:"1371"})}),"\n",(0,c.jsxs)(s.p,{children:["\u6267\u884c ",(0,c.jsx)(s.code,{children:"sudo /usr/share/kibana/bin/kibana-verification-code"})," \u5c31\u80fd\u5f97\u5230\u9a8c\u8bc1\u7801"]}),"\n",(0,c.jsx)(s.p,{children:"\u8f93\u5165\u4e4b\u540e\uff0c\u5373\u53ef\u8fdb\u5165\u81ea\u52a8\u914d\u7f6e\u9636\u6bb5"}),"\n",(0,c.jsx)(s.p,{children:(0,c.jsx)(s.img,{alt:"img",src:n(1206).A+"",width:"2560",height:"1371"})}),"\n",(0,c.jsx)(s.p,{children:"\u5f85\u81ea\u52a8\u5316\u914d\u7f6e\u6210\u529f\u4e4b\u540e\uff0c\u5373\u53ef\u770b\u5230"}),"\n",(0,c.jsx)(s.p,{children:(0,c.jsx)(s.img,{alt:"img",src:n(7379).A+"",width:"2560",height:"1371"})}),"\n",(0,c.jsx)(s.p,{children:"\u8f93\u5165\u5148\u524d\u4f7f\u7528\u7684 Elastic \u8d85\u7ea7\u7528\u6237\u7684\u51ed\u636e\uff0c\u5373\u53ef\u8bbf\u95ee Kibana"}),"\n",(0,c.jsx)(s.p,{children:(0,c.jsx)(s.img,{alt:"img",src:n(1685).A+"",width:"2560",height:"1371"})}),"\n",(0,c.jsx)(s.h2,{id:"\u7834\u89e3-elasticsearch",children:"\u7834\u89e3 Elasticsearch"}),"\n",(0,c.jsxs)(s.p,{children:["\u4f7f\u7528\u9879\u76ee ",(0,c.jsx)(s.a,{href:"https://github.com/Qwermit/ELKrack",children:"Qwermit/ELKrack: Elasticsearch crack 7.X-9.X"})]}),"\n",(0,c.jsx)(s.p,{children:"\u6267\u884c"}),"\n",(0,c.jsx)(s.pre,{children:(0,c.jsx)(s.code,{className:"language-shell",children:"git clone https://github.com/Qwermit/ELKrack\ncd ELKrack/\nchmod +x build_crack_jar.sh\n"})}),"\n",(0,c.jsxs)(s.p,{children:["\u7136\u540e\u6839\u636e\u5bf9\u5e94\u7684\u7248\u672c\u53f7\uff0c\u8bbe\u7f6e\u73af\u5883\u53d8\u91cf\u540e\u6267\u884c ",(0,c.jsx)(s.code,{children:"build_crack_jar.sh"})," \u6587\u4ef6"]}),"\n",(0,c.jsx)(s.pre,{children:(0,c.jsx)(s.code,{className:"language-shell",children:"# \u67e5\u770b\u7248\u672c\u4fe1\u606f\ncurl -fsSL -k -u elastic:BPhrFCKVYI19oksc1igb https://localhost:9200/ | grep number\n# \u8bbe\u5b9a\u7248\u672c\u73af\u5883\u53d8\u91cf\nexport VERSION=9.1.5\n# \u505c\u6b62\u670d\u52a1\nsudo systemctl stop elasticsearch.service\nsudo systemctl stop kibana.service\n# \u6267\u884c\n./build_crack_jar.sh\n"})}),"\n",(0,c.jsx)(s.p,{children:"\u6267\u884c\u5b8c\u6bd5\u540e\uff0c\u590d\u5236 patch \u4e4b\u540e\u7684\u6587\u4ef6"}),"\n",(0,c.jsx)(s.pre,{children:(0,c.jsx)(s.code,{className:"language-shell",children:"sudo cp /usr/share/elasticsearch/modules/x-pack-core/x-pack-core-9.1.5.jar /usr/share/elasticsearch/modules/x-pack-core/x-pack-core-9.1.5.jar.bak\nsudo cp ./output/x-pack-core-9.1.5.crack.jar /usr/share/elasticsearch/modules/x-pack-core/x-pack-core-9.1.5.jar\n"})}),"\n",(0,c.jsx)(s.p,{children:"\u91cd\u542f\u670d\u52a1"}),"\n",(0,c.jsx)(s.pre,{children:(0,c.jsx)(s.code,{className:"language-shell",children:"sudo systemctl restart elasticsearch.service\nsudo systemctl restart kibana.service\n"})}),"\n",(0,c.jsxs)(s.p,{children:["\u7ee7\u7eed\u8bbf\u95ee ",(0,c.jsx)(s.code,{children:"http://192.168.200.200:5601/"})," \u5e94\u5f53\u80fd\u591f\u770b\u5230"]}),"\n",(0,c.jsx)(s.p,{children:(0,c.jsx)(s.img,{alt:"img",src:n(2192).A+"",width:"2560",height:"1371"})}),"\n",(0,c.jsx)(s.p,{children:"\u5de6\u4e0a\u89d2\uff0c\u8fdb\u5165 space \u8bbe\u7f6e"}),"\n",(0,c.jsx)(s.p,{children:(0,c.jsx)(s.img,{alt:"img",src:n(4872).A+"",width:"2560",height:"1371"})}),"\n",(0,c.jsx)(s.p,{children:"\u8fdb\u5165\u8bb8\u53ef\u8bc1\u7ba1\u7406"}),"\n",(0,c.jsx)(s.p,{children:(0,c.jsx)(s.img,{alt:"img",src:n(5904).A+"",width:"2560",height:"1371"})}),"\n",(0,c.jsx)(s.p,{children:(0,c.jsx)(s.img,{alt:"img",src:n(8890).A+"",width:"2560",height:"1371"})}),"\n",(0,c.jsxs)(s.p,{children:["\u5728 ",(0,c.jsx)(s.code,{children:"Update your license"})," \u9009\u9879\u4e2d\uff0c\u4e0a\u4f20\u5728 ",(0,c.jsx)(s.a,{href:"https://github.com/Qwermit/ELKrack",children:"Qwermit/ELKrack: Elasticsearch crack 7.X-9.X"})," \u9879\u76ee\u7684 ",(0,c.jsx)(s.code,{children:"licenses"})," \u6587\u4ef6\u5939\u4e2d\u7684\u8bb8\u53ef\u6587\u4ef6\uff0c\u4e24\u4e2a\u90fd\u53ef\u4ee5\uff0c\u4f46\u662f\u66f4\u5efa\u8bae\u4f7f\u7528 ",(0,c.jsx)(s.code,{children:"platinum_license.json"})," \u4ee5\u83b7\u5f97\u5b8c\u6574 Elastic \u80fd\u529b"]}),"\n",(0,c.jsx)(s.p,{children:"\u64cd\u4f5c\u6ca1\u6709\u95ee\u9898\u7684\u8bdd\uff0c\u4e0a\u4f20\u4e4b\u540e\u5e94\u8be5\u80fd\u591f\u770b\u5230"}),"\n",(0,c.jsx)(s.p,{children:(0,c.jsx)(s.img,{alt:"img",src:n(9773).A+"",width:"2560",height:"1371"})}),"\n",(0,c.jsx)(s.h2,{id:"\u90e8\u7f72-fleet-\u670d\u52a1\u5668",children:"\u90e8\u7f72 Fleet \u670d\u52a1\u5668"}),"\n",(0,c.jsx)(s.p,{children:"\u5982\u679c\u9700\u8981\u90e8\u7f72 Elastic Agent \u4e0e\u7aef\u70b9\u8fdb\u884c\u901a\u4fe1\u7684\u8bdd\uff0c\u9700\u8981\u4f7f\u7528 Fleet \u8fdb\u884c\u7edf\u4e00\u7ba1\u7406\u4e0e\u901a\u4fe1"}),"\n",(0,c.jsxs)(s.p,{children:["\u8bbf\u95ee\u4fa7\u8fb9\u680f\u7684 ",(0,c.jsx)(s.code,{children:"Fleet"})," \u9009\u9879"]}),"\n",(0,c.jsx)(s.p,{children:(0,c.jsx)(s.img,{alt:"img",src:n(2398).A+"",width:"2560",height:"1371"})}),"\n",(0,c.jsx)(s.p,{children:"\u6b63\u5e38\u60c5\u51b5\u4e0b\uff0c\u4f1a\u770b\u5230"}),"\n",(0,c.jsx)(s.pre,{children:(0,c.jsx)(s.code,{className:"language-plaintext",children:"Agent binary source needs encrypted saved object api key to be set\n"})}),"\n",(0,c.jsx)(s.p,{children:(0,c.jsx)(s.img,{alt:"img",src:n(1900).A+"",width:"2560",height:"1371"})}),"\n",(0,c.jsxs)(s.p,{children:["\u8fd9\u4e2a\u65f6\u5019\u9700\u8981\u4ece\u547d\u4ee4\u884c\u4e2d\u751f\u6210 ",(0,c.jsx)(s.code,{children:"encrypted saved object api key"})]}),"\n",(0,c.jsx)(s.pre,{children:(0,c.jsx)(s.code,{className:"language-shell",children:"sudo /usr/share/kibana/bin/kibana-encryption-keys generate\n"})}),"\n",(0,c.jsx)(s.p,{children:"\u7406\u60f3\u60c5\u51b5\u4e0b\uff0c\u80fd\u591f\u770b\u5230"}),"\n",(0,c.jsx)(s.pre,{children:(0,c.jsx)(s.code,{className:"language-shell",children:"randark@elastic-server:~$ sudo /usr/share/kibana/bin/kibana-encryption-keys generate\n## Kibana Encryption Key Generation Utility\n\nThe 'generate' command guides you through the process of setting encryption keys for:\n\nxpack.encryptedSavedObjects.encryptionKey\n    Used to encrypt stored objects such as dashboards and visualizations\n    https://www.elastic.co/guide/en/kibana/current/xpack-security-secure-saved-objects.html#xpack-security-secure-saved-objects\n\nxpack.reporting.encryptionKey\n    Used to encrypt saved reports\n    https://www.elastic.co/guide/en/kibana/current/reporting-settings-kb.html#general-reporting-settings\n\nxpack.security.encryptionKey\n    Used to encrypt session information\n    https://www.elastic.co/guide/en/kibana/current/security-settings-kb.html#security-session-and-cookie-settings\n\n\nAlready defined settings are ignored and can be regenerated using the --force flag.  Check the documentation links for instructions on how to rotate encryption keys.\nDefinitions should be set in the kibana.yml used configure Kibana.\n\nSettings:\nxpack.encryptedSavedObjects.encryptionKey: 23a8bab7d7b2bf66385ac8b4301b48cf\nxpack.reporting.encryptionKey: d75d9b71d5e3fa7822c96ffe3d7d8315\nxpack.security.encryptionKey: 879e92fcfa0782faa40fb0c10f4d7c82\n"})}),"\n",(0,c.jsxs)(s.p,{children:["\u5c06\u4e0b\u65b9\u4e09\u884c\u914d\u7f6e\u53c2\u6570\u590d\u5236\u5230 ",(0,c.jsx)(s.code,{children:"/etc/kibana/kibana.yml"})," \u6587\u4ef6\u7684\u672b\u5c3e"]}),"\n",(0,c.jsx)(s.p,{children:"\u7136\u540e\u91cd\u542f Kibana \u670d\u52a1"}),"\n",(0,c.jsx)(s.pre,{children:(0,c.jsx)(s.code,{className:"language-shell",children:"sudo systemctl restart kibana.service\n"})}),"\n",(0,c.jsx)(s.p,{children:"\u968f\u540e\u5c31\u53ef\u4ee5\u6b63\u5e38\u90e8\u7f72 Fleet \u670d\u52a1\u5668"}),"\n",(0,c.jsx)(s.p,{children:(0,c.jsx)(s.img,{alt:"img",src:n(5385).A+"",width:"2560",height:"1371"})}),"\n",(0,c.jsx)(s.p,{children:"\u7531\u4e8e\u662f\u5355\u673a\u6d4b\u8bd5\u670d\u52a1\uff0c\u6240\u4ee5\u76f4\u63a5\u5c06 FLeet \u4e0e Elasticsearch \u548c Kibana \u90e8\u7f72\u5728\u540c\u4e00\u53f0\u670d\u52a1\u5668\u4e0a"}),"\n",(0,c.jsx)(s.p,{children:(0,c.jsx)(s.img,{alt:"img",src:n(1741).A+"",width:"2560",height:"1371"})}),"\n",(0,c.jsx)(s.p,{children:"\u6839\u636e\u6307\u5f15\u8fdb\u884c\u5b89\u88c5\u5373\u53ef\uff0c\u6210\u529f\u7684\u8bdd\u5e94\u8be5\u80fd\u591f\u770b\u5230"}),"\n",(0,c.jsx)(s.p,{children:(0,c.jsx)(s.img,{alt:"img",src:n(3222).A+"",width:"2560",height:"1371"})}),"\n",(0,c.jsx)(s.p,{children:"\u81f3\u6b64\uff0cElastic SIEM \u57fa\u7840\u8bbe\u65bd\u90e8\u7f72\u5b8c\u6bd5"})]})}function h(e={}){const{wrapper:s}={...(0,i.R)(),...e.components};return s?(0,c.jsx)(s,{...e,children:(0,c.jsx)(o,{...e})}):o(e)}},9773:(e,s,n)=>{n.d(s,{A:()=>a});const a=n.p+"assets/images/image_20251041-214145-3603fc6d1d28070590b261dc246bd20d.png"}}]);